# 变更堆栈<a name="aos_01_5009"></a>

堆栈创建成功后（状态为正常），可以根据自身需求变更堆栈输入参数。

## 操作步骤<a name="section6998166135010"></a>

1.  登录AOS控制台。
2.  在左侧导航栏中，单击“我的堆栈”。
3.  在堆栈列表中，单击待变更堆栈的名称。
4.  在堆栈详情页面，单击“变更”。
5.  更改模板版本或输入参数，单击“下一步”。
6.  核对信息配置无误后，单击“变更”。

    在堆栈详情页面的“事件”页签，可查看变更堆栈的具体操作事件。


## 变更规则<a name="section7899153917103"></a>

1.  模板变更规则：
    1.  更换模板时，模板中仅允许下列元素的增加及删除：
        -   AOS.Agent、AOS.AppComponent、AOS.AppComponent.Container、AOS.AppComponent.Process、AOS.AppGroup、AOS.Application.Stateful、 AOS.Application.Stateless、AOS.Job、AOS.Service、AOS.StatelessApplication、AOS.StatefulApplication
        -   CCE.Addon.AutoScaler、CCE.ConfigMap、CCE.DaemonSet、CCE.Deployment、CCE.HelmRelease、CCE.Ingress、CCE.Job、CCE.NodePool、CCE.Secret、CCE.Service、CCE.StatefulSet、CCE.Storage.OBS、CCE.Storage.SFS
        -   ECS.CloudServer
        -   ServiceStage.Agent、ServiceStage.AppGroup、ServiceStage.ContainerComponent、ServiceStage.Job、ServiceStage.ProcessComponent、ServiceStage.Service、ServiceStage.SoftwareComponent、ServiceStage.StatefulApplication、ServiceStage.StatelessApplication
        -   nodes.Agent、nodes.AppGroup、nodes.ContainerComponent、nodes.HelmApplication、nodes.Job、nodes.ProcessComponent、nodes.Service、nodes.SoftwareComponent、nodes.StatefulApplication、nodes.StatelessApplication

    2.  不允许修改模板中的policies部分；
    3.  不允许修改现有元素关联关系；
    4.  不允许单独删除现有元素的关联关系，如果删除关系需要将相关的元素一并删除；
    5.  不允许在新增元素与已有元素之间添加关系。

2.  参数变更规则：
    1.  下列元素不支持输入参数变更：
        -   AOS.Job、AOS.Service
        -   APM.AutoScaler
        -   ServiceStage.Job、ServiceStage.Service
        -   nodes.Agent、nodes.AutoScaler、nodes.DynamicNodePool、nodes.DynamicVolume、nodes.FlexVolume、nodes.Job、nodes.NodePool、nodes.Service、nodes.StatefulApplication


    1.  下列元素仅支持在1.7及以上版本集群中进行输入参数变更：
        -   AOS.Agent、AOS.StatefulApplication
        -   ServiceStage.Agent、ServiceStage.StatefulApplication



