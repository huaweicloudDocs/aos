# 查询堆栈列表<a name="aos_02_0026"></a>

## 功能介绍<a name="section5260343111216"></a>

用于查询堆栈列表。

## URI<a name="section2260134316129"></a>

GET /v2/stacks?project\_id=\{project\_id\}

**表 1**  参数说明

<a name="table6155238172920"></a>
<table><thead align="left"><tr id="row10156638182912"><th class="cellrowborder" valign="top" width="23%" id="mcps1.2.5.1.1"><p id="p1715633810293"><a name="p1715633810293"></a><a name="p1715633810293"></a>参数</p>
</th>
<th class="cellrowborder" valign="top" width="16%" id="mcps1.2.5.1.2"><p id="p16711184415615"><a name="p16711184415615"></a><a name="p16711184415615"></a>是否必选</p>
</th>
<th class="cellrowborder" valign="top" width="28.999999999999996%" id="mcps1.2.5.1.3"><p id="p615617382292"><a name="p615617382292"></a><a name="p615617382292"></a>取值范围</p>
</th>
<th class="cellrowborder" valign="top" width="32%" id="mcps1.2.5.1.4"><p id="p131568388294"><a name="p131568388294"></a><a name="p131568388294"></a>描述</p>
</th>
</tr>
</thead>
<tbody><tr id="row13156638182918"><td class="cellrowborder" valign="top" width="23%" headers="mcps1.2.5.1.1 "><p id="p17157838172913"><a name="p17157838172913"></a><a name="p17157838172913"></a>project_id</p>
</td>
<td class="cellrowborder" valign="top" width="16%" headers="mcps1.2.5.1.2 "><p id="p571119441962"><a name="p571119441962"></a><a name="p571119441962"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="28.999999999999996%" headers="mcps1.2.5.1.3 "><p id="p2157203832914"><a name="p2157203832914"></a><a name="p2157203832914"></a>长度[1,64]</p>
</td>
<td class="cellrowborder" valign="top" width="32%" headers="mcps1.2.5.1.4 "><p id="p1157838112917"><a name="p1157838112917"></a><a name="p1157838112917"></a>堆栈所属项目，在普通用户查询时必选</p>
</td>
</tr>
<tr id="row1381145221719"><td class="cellrowborder" valign="top" width="23%" headers="mcps1.2.5.1.1 "><p id="p4862511182"><a name="p4862511182"></a><a name="p4862511182"></a>labels</p>
</td>
<td class="cellrowborder" valign="top" width="16%" headers="mcps1.2.5.1.2 "><p id="p148617571811"><a name="p148617571811"></a><a name="p148617571811"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="28.999999999999996%" headers="mcps1.2.5.1.3 "><p id="p1386718191811"><a name="p1386718191811"></a><a name="p1386718191811"></a>格式为key1=value1,key2=value2，标签名与值需要满足<a href="创建堆栈.md#table12980143154618">表1</a>中的labels字段的要求</p>
</td>
<td class="cellrowborder" valign="top" width="32%" headers="mcps1.2.5.1.4 "><p id="p1945751661817"><a name="p1945751661817"></a><a name="p1945751661817"></a>指定查询堆栈的标签</p>
</td>
</tr>
<tr id="row863165362119"><td class="cellrowborder" valign="top" width="23%" headers="mcps1.2.5.1.1 "><p id="p263235315217"><a name="p263235315217"></a><a name="p263235315217"></a>dsl_version</p>
</td>
<td class="cellrowborder" valign="top" width="16%" headers="mcps1.2.5.1.2 "><p id="p7632105332110"><a name="p7632105332110"></a><a name="p7632105332110"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="28.999999999999996%" headers="mcps1.2.5.1.3 "><p id="p1863265372112"><a name="p1863265372112"></a><a name="p1863265372112"></a>只支持huaweicloud_tosca_version_1_0，默认为空</p>
</td>
<td class="cellrowborder" valign="top" width="32%" headers="mcps1.2.5.1.4 "><p id="p1363355392114"><a name="p1363355392114"></a><a name="p1363355392114"></a>模板语法版本，将查询到相应版本的堆栈</p>
</td>
</tr>
<tr id="row117492327277"><td class="cellrowborder" valign="top" width="23%" headers="mcps1.2.5.1.1 "><p id="p1975013215279"><a name="p1975013215279"></a><a name="p1975013215279"></a>template_id</p>
</td>
<td class="cellrowborder" valign="top" width="16%" headers="mcps1.2.5.1.2 "><p id="p6241143132711"><a name="p6241143132711"></a><a name="p6241143132711"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="28.999999999999996%" headers="mcps1.2.5.1.3 "><p id="p20750103262718"><a name="p20750103262718"></a><a name="p20750103262718"></a>无限制</p>
</td>
<td class="cellrowborder" valign="top" width="32%" headers="mcps1.2.5.1.4 "><p id="p18679184242812"><a name="p18679184242812"></a><a name="p18679184242812"></a>将查询到使用指定模板ID的堆栈，不可与template_name同时使用</p>
</td>
</tr>
<tr id="row2029910351276"><td class="cellrowborder" valign="top" width="23%" headers="mcps1.2.5.1.1 "><p id="p12299193532714"><a name="p12299193532714"></a><a name="p12299193532714"></a>template_name</p>
</td>
<td class="cellrowborder" valign="top" width="16%" headers="mcps1.2.5.1.2 "><p id="p153310435279"><a name="p153310435279"></a><a name="p153310435279"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="28.999999999999996%" headers="mcps1.2.5.1.3 "><p id="p17299135102714"><a name="p17299135102714"></a><a name="p17299135102714"></a>无限制</p>
</td>
<td class="cellrowborder" valign="top" width="32%" headers="mcps1.2.5.1.4 "><p id="p0299103562715"><a name="p0299103562715"></a><a name="p0299103562715"></a>将查询到使用指定模板名称的堆栈，不可与template_id同时使用</p>
</td>
</tr>
<tr id="row2071933762713"><td class="cellrowborder" valign="top" width="23%" headers="mcps1.2.5.1.1 "><p id="p197192371278"><a name="p197192371278"></a><a name="p197192371278"></a>template_version</p>
</td>
<td class="cellrowborder" valign="top" width="16%" headers="mcps1.2.5.1.2 "><p id="p1439104315275"><a name="p1439104315275"></a><a name="p1439104315275"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="28.999999999999996%" headers="mcps1.2.5.1.3 "><p id="p471913782713"><a name="p471913782713"></a><a name="p471913782713"></a>无限制</p>
</td>
<td class="cellrowborder" valign="top" width="32%" headers="mcps1.2.5.1.4 "><p id="p187191137142711"><a name="p187191137142711"></a><a name="p187191137142711"></a>将查询到使用指定模板版本的堆栈，需要同时指定template_name</p>
</td>
</tr>
</tbody>
</table>

## 请求消息<a name="section1026324331210"></a>

N/A。

## 响应消息<a name="section326374331214"></a>

-   响应参数

    响应参数是一个堆栈结构列表或返回消息结构。

    -   查询成功时返回堆栈结构列表。
    -   查询失败时返回错误消息结构。

    其中，堆栈结构如[表2 响应参数](#table1226304312125)所示， 错误消息结构如[表5](创建模板.md#table104171158104518)所示。

    **表 2**  响应参数

    <a name="table1226304312125"></a>
    <table><thead align="left"><tr id="row1926494317128"><th class="cellrowborder" valign="top" width="34.69346934693469%" id="mcps1.2.4.1.1"><p id="p7141723162916"><a name="p7141723162916"></a><a name="p7141723162916"></a>参数</p>
    </th>
    <th class="cellrowborder" valign="top" width="30.61306130613061%" id="mcps1.2.4.1.2"><p id="p181411423152919"><a name="p181411423152919"></a><a name="p181411423152919"></a>参数类型</p>
    </th>
    <th class="cellrowborder" valign="top" width="34.69346934693469%" id="mcps1.2.4.1.3"><p id="p914192315292"><a name="p914192315292"></a><a name="p914192315292"></a>描述</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="row48691227123819"><td class="cellrowborder" valign="top" width="34.69346934693469%" headers="mcps1.2.4.1.1 "><p id="p13869122713384"><a name="p13869122713384"></a><a name="p13869122713384"></a>health</p>
    </td>
    <td class="cellrowborder" valign="top" width="30.61306130613061%" headers="mcps1.2.4.1.2 "><p id="p178691127163816"><a name="p178691127163816"></a><a name="p178691127163816"></a><a href="#table7570342163817">表3</a></p>
    </td>
    <td class="cellrowborder" valign="top" width="34.69346934693469%" headers="mcps1.2.4.1.3 "><p id="p8869182719380"><a name="p8869182719380"></a><a name="p8869182719380"></a>堆栈的健康检查情况</p>
    </td>
    </tr>
    <tr id="row1522116544397"><td class="cellrowborder" valign="top" width="34.69346934693469%" headers="mcps1.2.4.1.1 "><p id="p17221135443920"><a name="p17221135443920"></a><a name="p17221135443920"></a>object</p>
    </td>
    <td class="cellrowborder" valign="top" width="30.61306130613061%" headers="mcps1.2.4.1.2 "><p id="p16221145416394"><a name="p16221145416394"></a><a name="p16221145416394"></a><a href="#table1812717101407">表4</a></p>
    </td>
    <td class="cellrowborder" valign="top" width="34.69346934693469%" headers="mcps1.2.4.1.3 "><p id="p822195417391"><a name="p822195417391"></a><a name="p822195417391"></a>堆栈运行相关数据</p>
    </td>
    </tr>
    <tr id="row1639916141211"><td class="cellrowborder" valign="top" width="34.69346934693469%" headers="mcps1.2.4.1.1 "><p id="p04632001528"><a name="p04632001528"></a><a name="p04632001528"></a>guid, name等其余顶层字段</p>
    </td>
    <td class="cellrowborder" valign="top" width="30.61306130613061%" headers="mcps1.2.4.1.2 "><p id="p1330912511318"><a name="p1330912511318"></a><a name="p1330912511318"></a><a href="查询堆栈.md#table6252949113412">表1</a></p>
    </td>
    <td class="cellrowborder" valign="top" width="34.69346934693469%" headers="mcps1.2.4.1.3 "><p id="p117181431114615"><a name="p117181431114615"></a><a name="p117181431114615"></a>-</p>
    </td>
    </tr>
    </tbody>
    </table>

    **表 3**  健康参数

    <a name="table7570342163817"></a>
    <table><thead align="left"><tr id="row05772428387"><th class="cellrowborder" valign="top" width="34.69346934693469%" id="mcps1.2.4.1.1"><p id="p1257814428380"><a name="p1257814428380"></a><a name="p1257814428380"></a>参数</p>
    </th>
    <th class="cellrowborder" valign="top" width="30.61306130613061%" id="mcps1.2.4.1.2"><p id="p358012423388"><a name="p358012423388"></a><a name="p358012423388"></a>参数类型</p>
    </th>
    <th class="cellrowborder" valign="top" width="34.69346934693469%" id="mcps1.2.4.1.3"><p id="p558314213383"><a name="p558314213383"></a><a name="p558314213383"></a>描述</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="row18585194213819"><td class="cellrowborder" valign="top" width="34.69346934693469%" headers="mcps1.2.4.1.1 "><p id="p6177735194317"><a name="p6177735194317"></a><a name="p6177735194317"></a>message</p>
    </td>
    <td class="cellrowborder" valign="top" width="30.61306130613061%" headers="mcps1.2.4.1.2 "><p id="p5589104211386"><a name="p5589104211386"></a><a name="p5589104211386"></a>string</p>
    </td>
    <td class="cellrowborder" valign="top" width="34.69346934693469%" headers="mcps1.2.4.1.3 "><p id="p0591184243810"><a name="p0591184243810"></a><a name="p0591184243810"></a>健康检查消息</p>
    </td>
    </tr>
    <tr id="row559220426388"><td class="cellrowborder" valign="top" width="34.69346934693469%" headers="mcps1.2.4.1.1 "><p id="p19520114064318"><a name="p19520114064318"></a><a name="p19520114064318"></a>healthy</p>
    </td>
    <td class="cellrowborder" valign="top" width="30.61306130613061%" headers="mcps1.2.4.1.2 "><p id="p2596942173819"><a name="p2596942173819"></a><a name="p2596942173819"></a>bool</p>
    </td>
    <td class="cellrowborder" valign="top" width="34.69346934693469%" headers="mcps1.2.4.1.3 "><p id="p1359924213384"><a name="p1359924213384"></a><a name="p1359924213384"></a>是否健康</p>
    </td>
    </tr>
    </tbody>
    </table>

    **表 4**  K8s Stack结构

    <a name="table1812717101407"></a>
    <table><thead align="left"><tr id="row19135010164014"><th class="cellrowborder" valign="top" width="34.69346934693469%" id="mcps1.2.4.1.1"><p id="p18137171004019"><a name="p18137171004019"></a><a name="p18137171004019"></a>参数</p>
    </th>
    <th class="cellrowborder" valign="top" width="30.61306130613061%" id="mcps1.2.4.1.2"><p id="p214114106402"><a name="p214114106402"></a><a name="p214114106402"></a>参数类型</p>
    </th>
    <th class="cellrowborder" valign="top" width="34.69346934693469%" id="mcps1.2.4.1.3"><p id="p10144121034016"><a name="p10144121034016"></a><a name="p10144121034016"></a>描述</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="row1614712104402"><td class="cellrowborder" valign="top" width="34.69346934693469%" headers="mcps1.2.4.1.1 "><p id="p715185019446"><a name="p715185019446"></a><a name="p715185019446"></a>kind</p>
    </td>
    <td class="cellrowborder" valign="top" width="30.61306130613061%" headers="mcps1.2.4.1.2 "><p id="p18151191018405"><a name="p18151191018405"></a><a name="p18151191018405"></a>string</p>
    </td>
    <td class="cellrowborder" valign="top" width="34.69346934693469%" headers="mcps1.2.4.1.3 "><p id="p175441734134919"><a name="p175441734134919"></a><a name="p175441734134919"></a>值为Stack，表示是Stack类型</p>
    </td>
    </tr>
    <tr id="row1715411064013"><td class="cellrowborder" valign="top" width="34.69346934693469%" headers="mcps1.2.4.1.1 "><p id="p015721064011"><a name="p015721064011"></a><a name="p015721064011"></a>apiVersion</p>
    </td>
    <td class="cellrowborder" valign="top" width="30.61306130613061%" headers="mcps1.2.4.1.2 "><p id="p101598107409"><a name="p101598107409"></a><a name="p101598107409"></a>string</p>
    </td>
    <td class="cellrowborder" valign="top" width="34.69346934693469%" headers="mcps1.2.4.1.3 "><p id="p516171054017"><a name="p516171054017"></a><a name="p516171054017"></a>值为paas/v1alpha1，表示api版本</p>
    </td>
    </tr>
    <tr id="row5601546175312"><td class="cellrowborder" valign="top" width="34.69346934693469%" headers="mcps1.2.4.1.1 "><p id="p36013462531"><a name="p36013462531"></a><a name="p36013462531"></a>metadata</p>
    </td>
    <td class="cellrowborder" valign="top" width="30.61306130613061%" headers="mcps1.2.4.1.2 "><p id="p772164012418"><a name="p772164012418"></a><a name="p772164012418"></a><a href="#table19885141812413">表5</a></p>
    </td>
    <td class="cellrowborder" valign="top" width="34.69346934693469%" headers="mcps1.2.4.1.3 "><p id="p366772885511"><a name="p366772885511"></a><a name="p366772885511"></a>堆栈的元属性</p>
    </td>
    </tr>
    <tr id="row8492193913140"><td class="cellrowborder" valign="top" width="34.69346934693469%" headers="mcps1.2.4.1.1 "><p id="p19492203911411"><a name="p19492203911411"></a><a name="p19492203911411"></a>spec</p>
    </td>
    <td class="cellrowborder" valign="top" width="30.61306130613061%" headers="mcps1.2.4.1.2 "><p id="p1249318396147"><a name="p1249318396147"></a><a name="p1249318396147"></a><a href="#table162018494148">表6</a></p>
    </td>
    <td class="cellrowborder" valign="top" width="34.69346934693469%" headers="mcps1.2.4.1.3 "><p id="p1149393991410"><a name="p1149393991410"></a><a name="p1149393991410"></a>堆栈的创建细节属性</p>
    </td>
    </tr>
    <tr id="row13490935558"><td class="cellrowborder" valign="top" width="34.69346934693469%" headers="mcps1.2.4.1.1 "><p id="p10490123516511"><a name="p10490123516511"></a><a name="p10490123516511"></a>status</p>
    </td>
    <td class="cellrowborder" valign="top" width="30.61306130613061%" headers="mcps1.2.4.1.2 "><p id="p9490535652"><a name="p9490535652"></a><a name="p9490535652"></a><a href="#table39011471555">表8</a></p>
    </td>
    <td class="cellrowborder" valign="top" width="34.69346934693469%" headers="mcps1.2.4.1.3 "><p id="p13652229788"><a name="p13652229788"></a><a name="p13652229788"></a>堆栈的运行状态</p>
    </td>
    </tr>
    </tbody>
    </table>

    **表 5**  Stack Metadata结构

    <a name="table19885141812413"></a>
    <table><thead align="left"><tr id="row10893318642"><th class="cellrowborder" valign="top" width="35%" id="mcps1.2.4.1.1"><p id="p4895318641"><a name="p4895318641"></a><a name="p4895318641"></a>参数</p>
    </th>
    <th class="cellrowborder" valign="top" width="30.000000000000004%" id="mcps1.2.4.1.2"><p id="p1989819182412"><a name="p1989819182412"></a><a name="p1989819182412"></a>参数类型</p>
    </th>
    <th class="cellrowborder" valign="top" width="35%" id="mcps1.2.4.1.3"><p id="p14900121810419"><a name="p14900121810419"></a><a name="p14900121810419"></a>描述</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="row9902171816420"><td class="cellrowborder" valign="top" width="35%" headers="mcps1.2.4.1.1 "><p id="p1973320341517"><a name="p1973320341517"></a><a name="p1973320341517"></a>name</p>
    </td>
    <td class="cellrowborder" valign="top" width="30.000000000000004%" headers="mcps1.2.4.1.2 "><p id="p1990515181340"><a name="p1990515181340"></a><a name="p1990515181340"></a>string</p>
    </td>
    <td class="cellrowborder" valign="top" width="35%" headers="mcps1.2.4.1.3 "><p id="p109075189419"><a name="p109075189419"></a><a name="p109075189419"></a>堆栈名字，与顶层name字段一致</p>
    </td>
    </tr>
    <tr id="row699821913819"><td class="cellrowborder" valign="top" width="35%" headers="mcps1.2.4.1.1 "><p id="p6998201915819"><a name="p6998201915819"></a><a name="p6998201915819"></a>namespace</p>
    </td>
    <td class="cellrowborder" valign="top" width="30.000000000000004%" headers="mcps1.2.4.1.2 "><p id="p1099810197819"><a name="p1099810197819"></a><a name="p1099810197819"></a>string</p>
    </td>
    <td class="cellrowborder" valign="top" width="35%" headers="mcps1.2.4.1.3 "><p id="p17998151910817"><a name="p17998151910817"></a><a name="p17998151910817"></a>堆栈的项目ID，与顶层project_id字段一致</p>
    </td>
    </tr>
    <tr id="row1908171816418"><td class="cellrowborder" valign="top" width="35%" headers="mcps1.2.4.1.1 "><p id="p1328835118613"><a name="p1328835118613"></a><a name="p1328835118613"></a>selfLink</p>
    </td>
    <td class="cellrowborder" valign="top" width="30.000000000000004%" headers="mcps1.2.4.1.2 "><p id="p49112018149"><a name="p49112018149"></a><a name="p49112018149"></a>string</p>
    </td>
    <td class="cellrowborder" valign="top" width="35%" headers="mcps1.2.4.1.3 "><p id="p9913181817413"><a name="p9913181817413"></a><a name="p9913181817413"></a>访问该资源的api地址</p>
    </td>
    </tr>
    <tr id="row1191341813416"><td class="cellrowborder" valign="top" width="35%" headers="mcps1.2.4.1.1 "><p id="p34582013672"><a name="p34582013672"></a><a name="p34582013672"></a>uid</p>
    </td>
    <td class="cellrowborder" valign="top" width="30.000000000000004%" headers="mcps1.2.4.1.2 "><p id="p391717187418"><a name="p391717187418"></a><a name="p391717187418"></a>string</p>
    </td>
    <td class="cellrowborder" valign="top" width="35%" headers="mcps1.2.4.1.3 "><p id="p1291817181240"><a name="p1291817181240"></a><a name="p1291817181240"></a>堆栈资源的ID，与顶层的guid字段一致</p>
    </td>
    </tr>
    <tr id="row4275481077"><td class="cellrowborder" valign="top" width="35%" headers="mcps1.2.4.1.1 "><p id="p10271748879"><a name="p10271748879"></a><a name="p10271748879"></a>annotations</p>
    </td>
    <td class="cellrowborder" valign="top" width="30.000000000000004%" headers="mcps1.2.4.1.2 "><p id="p162724818714"><a name="p162724818714"></a><a name="p162724818714"></a>JSONObject</p>
    </td>
    <td class="cellrowborder" valign="top" width="35%" headers="mcps1.2.4.1.3 "><p id="p1828948673"><a name="p1828948673"></a><a name="p1828948673"></a>堆栈的特殊属性，当前AOS共填写3个字段</p>
    <a name="ul1859682464314"></a><a name="ul1859682464314"></a><ul id="ul1859682464314"><li>paas-iam.alpha.kubernetes.io/domain-id: 与顶层的domain_id字段一致</li><li>namespace: 与顶层的namespace字段一致</li><li>cluster-id: 与顶层的cluster_id字段一致</li></ul>
    </td>
    </tr>
    <tr id="row5998173131414"><td class="cellrowborder" valign="top" width="35%" headers="mcps1.2.4.1.1 "><p id="p129987315141"><a name="p129987315141"></a><a name="p129987315141"></a>resourceVersion等其余字段</p>
    </td>
    <td class="cellrowborder" valign="top" width="30.000000000000004%" headers="mcps1.2.4.1.2 "><p id="p699817312144"><a name="p699817312144"></a><a name="p699817312144"></a>-</p>
    </td>
    <td class="cellrowborder" valign="top" width="35%" headers="mcps1.2.4.1.3 "><p id="p39981234144"><a name="p39981234144"></a><a name="p39981234144"></a>K8s自带属性</p>
    </td>
    </tr>
    </tbody>
    </table>

    **表 6**  Stack Spec结构

    <a name="table162018494148"></a>
    <table><thead align="left"><tr id="row56284494149"><th class="cellrowborder" valign="top" width="23.762376237623762%" id="mcps1.2.4.1.1"><p id="p1163010498147"><a name="p1163010498147"></a><a name="p1163010498147"></a>参数</p>
    </th>
    <th class="cellrowborder" valign="top" width="31.683168316831683%" id="mcps1.2.4.1.2"><p id="p1563514497147"><a name="p1563514497147"></a><a name="p1563514497147"></a>参数类型</p>
    </th>
    <th class="cellrowborder" valign="top" width="44.554455445544555%" id="mcps1.2.4.1.3"><p id="p1263724971410"><a name="p1263724971410"></a><a name="p1263724971410"></a>描述</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="row9640849181417"><td class="cellrowborder" valign="top" width="23.762376237623762%" headers="mcps1.2.4.1.1 "><p id="p3398548131513"><a name="p3398548131513"></a><a name="p3398548131513"></a>selector</p>
    </td>
    <td class="cellrowborder" valign="top" width="31.683168316831683%" headers="mcps1.2.4.1.2 "><p id="p1239711484159"><a name="p1239711484159"></a><a name="p1239711484159"></a>K8s selector属性</p>
    </td>
    <td class="cellrowborder" valign="top" width="44.554455445544555%" headers="mcps1.2.4.1.3 "><p id="p12396164801517"><a name="p12396164801517"></a><a name="p12396164801517"></a>包含一个名为matchLabels，类型为JSONObject的字段，其中包含一个key-value结构</p>
    <p id="p1419610124178"><a name="p1419610124178"></a><a name="p1419610124178"></a>key为stackname，value为顶层的name字段</p>
    </td>
    </tr>
    <tr id="row86481749131411"><td class="cellrowborder" valign="top" width="23.762376237623762%" headers="mcps1.2.4.1.1 "><p id="p92468395176"><a name="p92468395176"></a><a name="p92468395176"></a>template</p>
    </td>
    <td class="cellrowborder" valign="top" width="31.683168316831683%" headers="mcps1.2.4.1.2 "><p id="p13638647195610"><a name="p13638647195610"></a><a name="p13638647195610"></a><a href="#table18267453175614">表7</a></p>
    </td>
    <td class="cellrowborder" valign="top" width="44.554455445544555%" headers="mcps1.2.4.1.3 "><p id="p5245143951716"><a name="p5245143951716"></a><a name="p5245143951716"></a>AOS的模板属性</p>
    </td>
    </tr>
    <tr id="row8655204941416"><td class="cellrowborder" valign="top" width="23.762376237623762%" headers="mcps1.2.4.1.1 "><p id="p12441839101716"><a name="p12441839101716"></a><a name="p12441839101716"></a>execution</p>
    </td>
    <td class="cellrowborder" valign="top" width="31.683168316831683%" headers="mcps1.2.4.1.2 "><p id="p1511373616393"><a name="p1511373616393"></a><a name="p1511373616393"></a><a href="查询堆栈执行记录.md#table26821305364">表4</a></p>
    </td>
    <td class="cellrowborder" valign="top" width="44.554455445544555%" headers="mcps1.2.4.1.3 "><p id="p724319399179"><a name="p724319399179"></a><a name="p724319399179"></a>AOS运行时的工作流数据，只在工作流运行时出现</p>
    </td>
    </tr>
    </tbody>
    </table>

    **表 7**  Stack Spec Template结构

    <a name="table18267453175614"></a>
    <table><thead align="left"><tr id="row12771953125615"><th class="cellrowborder" valign="top" width="35%" id="mcps1.2.4.1.1"><p id="p1328015365617"><a name="p1328015365617"></a><a name="p1328015365617"></a>参数</p>
    </th>
    <th class="cellrowborder" valign="top" width="30.000000000000004%" id="mcps1.2.4.1.2"><p id="p728214530564"><a name="p728214530564"></a><a name="p728214530564"></a>参数类型</p>
    </th>
    <th class="cellrowborder" valign="top" width="35%" id="mcps1.2.4.1.3"><p id="p428418538561"><a name="p428418538561"></a><a name="p428418538561"></a>描述</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="row1328719533564"><td class="cellrowborder" valign="top" width="35%" headers="mcps1.2.4.1.1 "><p id="p49361955819"><a name="p49361955819"></a><a name="p49361955819"></a>type</p>
    </td>
    <td class="cellrowborder" valign="top" width="30.000000000000004%" headers="mcps1.2.4.1.2 "><p id="p52911153145615"><a name="p52911153145615"></a><a name="p52911153145615"></a>string</p>
    </td>
    <td class="cellrowborder" valign="top" width="35%" headers="mcps1.2.4.1.3 "><p id="p1629465313562"><a name="p1629465313562"></a><a name="p1629465313562"></a>值为Aos，表示是Aos的模板</p>
    </td>
    </tr>
    <tr id="row152961653155619"><td class="cellrowborder" valign="top" width="35%" headers="mcps1.2.4.1.1 "><p id="p2681737627"><a name="p2681737627"></a><a name="p2681737627"></a>data</p>
    </td>
    <td class="cellrowborder" valign="top" width="30.000000000000004%" headers="mcps1.2.4.1.2 "><p id="p2030025355617"><a name="p2030025355617"></a><a name="p2030025355617"></a>string</p>
    </td>
    <td class="cellrowborder" valign="top" width="35%" headers="mcps1.2.4.1.3 "><p id="p8303253165615"><a name="p8303253165615"></a><a name="p8303253165615"></a>通过Base64编码后的模板数据</p>
    </td>
    </tr>
    </tbody>
    </table>

    **表 8**  Stack Status结构

    <a name="table39011471555"></a>
    <table><thead align="left"><tr id="row10913447458"><th class="cellrowborder" valign="top" width="35%" id="mcps1.2.4.1.1"><p id="p091716471354"><a name="p091716471354"></a><a name="p091716471354"></a>参数</p>
    </th>
    <th class="cellrowborder" valign="top" width="30.000000000000004%" id="mcps1.2.4.1.2"><p id="p169194473516"><a name="p169194473516"></a><a name="p169194473516"></a>参数类型</p>
    </th>
    <th class="cellrowborder" valign="top" width="35%" id="mcps1.2.4.1.3"><p id="p892110471156"><a name="p892110471156"></a><a name="p892110471156"></a>描述</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="row1922547154"><td class="cellrowborder" valign="top" width="35%" headers="mcps1.2.4.1.1 "><p id="p4470556457"><a name="p4470556457"></a><a name="p4470556457"></a>phase</p>
    </td>
    <td class="cellrowborder" valign="top" width="30.000000000000004%" headers="mcps1.2.4.1.2 "><p id="p1547010569514"><a name="p1547010569514"></a><a name="p1547010569514"></a>string</p>
    </td>
    <td class="cellrowborder" valign="top" width="35%" headers="mcps1.2.4.1.3 "><p id="p1746918561351"><a name="p1746918561351"></a><a name="p1746918561351"></a>堆栈的执行状态，有执行成功、执行中、执行挂起、执行取消、执行取消中、执行强制取消中、执行挂起中、执行重试中、执行运行中等</p>
    </td>
    </tr>
    <tr id="row1993216471754"><td class="cellrowborder" valign="top" width="35%" headers="mcps1.2.4.1.1 "><p id="p64681756359"><a name="p64681756359"></a><a name="p64681756359"></a>ElementStatuses</p>
    </td>
    <td class="cellrowborder" valign="top" width="30.000000000000004%" headers="mcps1.2.4.1.2 "><p id="p13468145614520"><a name="p13468145614520"></a><a name="p13468145614520"></a>JSONObject，每个key-value对应模板内的每个node，key为node的名字，value也为JSONObject，为<a href="#table18222533122519">表9</a></p>
    </td>
    <td class="cellrowborder" valign="top" width="35%" headers="mcps1.2.4.1.3 "><p id="p2046715562515"><a name="p2046715562515"></a><a name="p2046715562515"></a>堆栈的执行状态及相关属性</p>
    </td>
    </tr>
    <tr id="row1465617191147"><td class="cellrowborder" valign="top" width="35%" headers="mcps1.2.4.1.1 "><p id="p146569198148"><a name="p146569198148"></a><a name="p146569198148"></a>LastExecutionStatus</p>
    </td>
    <td class="cellrowborder" valign="top" width="30.000000000000004%" headers="mcps1.2.4.1.2 "><p id="p1265661931419"><a name="p1265661931419"></a><a name="p1265661931419"></a><a href="#table272789203017">表10</a></p>
    </td>
    <td class="cellrowborder" valign="top" width="35%" headers="mcps1.2.4.1.3 "><p id="p186561319191411"><a name="p186561319191411"></a><a name="p186561319191411"></a>堆栈最后一次执行的执行状态</p>
    </td>
    </tr>
    <tr id="row165123811266"><td class="cellrowborder" valign="top" width="35%" headers="mcps1.2.4.1.1 "><p id="p1665333811262"><a name="p1665333811262"></a><a name="p1665333811262"></a>HealthyStatus</p>
    </td>
    <td class="cellrowborder" valign="top" width="30.000000000000004%" headers="mcps1.2.4.1.2 "><p id="p12653183814264"><a name="p12653183814264"></a><a name="p12653183814264"></a><a href="#table596118212716">表13</a></p>
    </td>
    <td class="cellrowborder" valign="top" width="35%" headers="mcps1.2.4.1.3 "><p id="p86531338162613"><a name="p86531338162613"></a><a name="p86531338162613"></a>堆栈最后一次健康检查状态的缓存</p>
    </td>
    </tr>
    </tbody>
    </table>

    **表 9**  Stack Status ElementStatus结构

    <a name="table18222533122519"></a>
    <table><thead align="left"><tr id="row12233103392513"><th class="cellrowborder" valign="top" width="35%" id="mcps1.2.4.1.1"><p id="p1323713332255"><a name="p1323713332255"></a><a name="p1323713332255"></a>参数</p>
    </th>
    <th class="cellrowborder" valign="top" width="30.000000000000004%" id="mcps1.2.4.1.2"><p id="p1223983342518"><a name="p1223983342518"></a><a name="p1223983342518"></a>参数类型</p>
    </th>
    <th class="cellrowborder" valign="top" width="35%" id="mcps1.2.4.1.3"><p id="p14242143392517"><a name="p14242143392517"></a><a name="p14242143392517"></a>描述</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="row19245133310250"><td class="cellrowborder" valign="top" width="35%" headers="mcps1.2.4.1.1 "><p id="p032122182714"><a name="p032122182714"></a><a name="p032122182714"></a>runtimeProperties</p>
    </td>
    <td class="cellrowborder" valign="top" width="30.000000000000004%" headers="mcps1.2.4.1.2 "><p id="p13320132152712"><a name="p13320132152712"></a><a name="p13320132152712"></a>JSONObject，每个key-value均为string类型，表示执行时属性，不同类型的节点属性不同</p>
    </td>
    <td class="cellrowborder" valign="top" width="35%" headers="mcps1.2.4.1.3 "><p id="p2032019215271"><a name="p2032019215271"></a><a name="p2032019215271"></a>节点的运行相关属性</p>
    </td>
    </tr>
    </tbody>
    </table>

    **表 10**  Stack Status ExecutionStatus结构

    <a name="table272789203017"></a>
    <table><thead align="left"><tr id="row1373759103016"><th class="cellrowborder" valign="top" width="35%" id="mcps1.2.4.1.1"><p id="p7740189143010"><a name="p7740189143010"></a><a name="p7740189143010"></a>参数</p>
    </th>
    <th class="cellrowborder" valign="top" width="30.000000000000004%" id="mcps1.2.4.1.2"><p id="p13743139143019"><a name="p13743139143019"></a><a name="p13743139143019"></a>参数类型</p>
    </th>
    <th class="cellrowborder" valign="top" width="35%" id="mcps1.2.4.1.3"><p id="p67461298303"><a name="p67461298303"></a><a name="p67461298303"></a>描述</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="row16750169103010"><td class="cellrowborder" valign="top" width="35%" headers="mcps1.2.4.1.1 "><p id="p202111033310"><a name="p202111033310"></a><a name="p202111033310"></a>actionName</p>
    </td>
    <td class="cellrowborder" valign="top" width="30.000000000000004%" headers="mcps1.2.4.1.2 "><p id="p375518913012"><a name="p375518913012"></a><a name="p375518913012"></a>string</p>
    </td>
    <td class="cellrowborder" valign="top" width="35%" headers="mcps1.2.4.1.3 "><p id="p97592911304"><a name="p97592911304"></a><a name="p97592911304"></a>操作的名称，create （创建）、 start（启动） 、stop（停止） 、delete（删除）、 scale（伸缩）、upgrade（升级）、 rollback（回滚）、reconfig（重配置）、retry（重试）</p>
    </td>
    </tr>
    <tr id="row1836244619314"><td class="cellrowborder" valign="top" width="35%" headers="mcps1.2.4.1.1 "><p id="p766751314350"><a name="p766751314350"></a><a name="p766751314350"></a>progress</p>
    </td>
    <td class="cellrowborder" valign="top" width="30.000000000000004%" headers="mcps1.2.4.1.2 "><p id="p0362046143110"><a name="p0362046143110"></a><a name="p0362046143110"></a>int</p>
    </td>
    <td class="cellrowborder" valign="top" width="35%" headers="mcps1.2.4.1.3 "><p id="p2362246183119"><a name="p2362246183119"></a><a name="p2362246183119"></a>执行进度</p>
    </td>
    </tr>
    <tr id="row1070920451384"><td class="cellrowborder" valign="top" width="35%" headers="mcps1.2.4.1.1 "><p id="p0923132163911"><a name="p0923132163911"></a><a name="p0923132163911"></a>objectStatus</p>
    </td>
    <td class="cellrowborder" valign="top" width="30.000000000000004%" headers="mcps1.2.4.1.2 "><p id="p170916459389"><a name="p170916459389"></a><a name="p170916459389"></a><a href="#table136551348103520">表11</a></p>
    </td>
    <td class="cellrowborder" valign="top" width="35%" headers="mcps1.2.4.1.3 "><p id="p127091445173819"><a name="p127091445173819"></a><a name="p127091445173819"></a>表示操作的总体执行进度</p>
    </td>
    </tr>
    <tr id="row1816413053912"><td class="cellrowborder" valign="top" width="35%" headers="mcps1.2.4.1.1 "><p id="p19164103093912"><a name="p19164103093912"></a><a name="p19164103093912"></a>subObjectStatuses</p>
    </td>
    <td class="cellrowborder" valign="top" width="30.000000000000004%" headers="mcps1.2.4.1.2 "><p id="p13164133073911"><a name="p13164133073911"></a><a name="p13164133073911"></a>JSONObject，每个key-value结构表示key对应的节点的执行进度，value为<a href="#table114652301361">表12</a></p>
    </td>
    <td class="cellrowborder" valign="top" width="35%" headers="mcps1.2.4.1.3 "><p id="p131641302394"><a name="p131641302394"></a><a name="p131641302394"></a>表示分步操作的执行进度</p>
    </td>
    </tr>
    </tbody>
    </table>

    **表 11**  Stack Status ExecutionStatus ActionStatus结构

    <a name="table136551348103520"></a>
    <table><thead align="left"><tr id="row366654813357"><th class="cellrowborder" valign="top" width="35%" id="mcps1.2.4.1.1"><p id="p146691648113519"><a name="p146691648113519"></a><a name="p146691648113519"></a>参数</p>
    </th>
    <th class="cellrowborder" valign="top" width="30.000000000000004%" id="mcps1.2.4.1.2"><p id="p166721048123510"><a name="p166721048123510"></a><a name="p166721048123510"></a>参数类型</p>
    </th>
    <th class="cellrowborder" valign="top" width="35%" id="mcps1.2.4.1.3"><p id="p667524873510"><a name="p667524873510"></a><a name="p667524873510"></a>描述</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="row1167854833514"><td class="cellrowborder" valign="top" width="35%" headers="mcps1.2.4.1.1 "><p id="p374241633618"><a name="p374241633618"></a><a name="p374241633618"></a>phase</p>
    </td>
    <td class="cellrowborder" valign="top" width="30.000000000000004%" headers="mcps1.2.4.1.2 "><p id="p10686194815358"><a name="p10686194815358"></a><a name="p10686194815358"></a>string</p>
    </td>
    <td class="cellrowborder" valign="top" width="35%" headers="mcps1.2.4.1.3 "><p id="p19689124883513"><a name="p19689124883513"></a><a name="p19689124883513"></a>该操作步骤的执行状态</p>
    </td>
    </tr>
    <tr id="row1869014833518"><td class="cellrowborder" valign="top" width="35%" headers="mcps1.2.4.1.1 "><p id="p196931248153513"><a name="p196931248153513"></a><a name="p196931248153513"></a>message</p>
    </td>
    <td class="cellrowborder" valign="top" width="30.000000000000004%" headers="mcps1.2.4.1.2 "><p id="p8696154853511"><a name="p8696154853511"></a><a name="p8696154853511"></a>string</p>
    </td>
    <td class="cellrowborder" valign="top" width="35%" headers="mcps1.2.4.1.3 "><p id="p870010486354"><a name="p870010486354"></a><a name="p870010486354"></a>详细的出错信息</p>
    </td>
    </tr>
    <tr id="row1682111943717"><td class="cellrowborder" valign="top" width="35%" headers="mcps1.2.4.1.1 "><p id="p182141973714"><a name="p182141973714"></a><a name="p182141973714"></a>reason</p>
    </td>
    <td class="cellrowborder" valign="top" width="30.000000000000004%" headers="mcps1.2.4.1.2 "><p id="p1483141916378"><a name="p1483141916378"></a><a name="p1483141916378"></a>string</p>
    </td>
    <td class="cellrowborder" valign="top" width="35%" headers="mcps1.2.4.1.3 "><p id="p158331920378"><a name="p158331920378"></a><a name="p158331920378"></a>CamelCase格式的错误描述信息</p>
    </td>
    </tr>
    <tr id="row14229749193717"><td class="cellrowborder" valign="top" width="35%" headers="mcps1.2.4.1.1 "><p id="p1122984913719"><a name="p1122984913719"></a><a name="p1122984913719"></a>updateAt</p>
    </td>
    <td class="cellrowborder" valign="top" width="30.000000000000004%" headers="mcps1.2.4.1.2 "><p id="p0229849153710"><a name="p0229849153710"></a><a name="p0229849153710"></a>string</p>
    </td>
    <td class="cellrowborder" valign="top" width="35%" headers="mcps1.2.4.1.3 "><p id="p922984918372"><a name="p922984918372"></a><a name="p922984918372"></a>以RFC3339格式表示的信息更新的UTC时间戳</p>
    </td>
    </tr>
    </tbody>
    </table>

    **表 12**  Stack Status ExecutionStatus SubActionStatus结构

    <a name="table114652301361"></a>
    <table><thead align="left"><tr id="row184931130113614"><th class="cellrowborder" valign="top" width="35%" id="mcps1.2.4.1.1"><p id="p164973306360"><a name="p164973306360"></a><a name="p164973306360"></a>参数</p>
    </th>
    <th class="cellrowborder" valign="top" width="30.000000000000004%" id="mcps1.2.4.1.2"><p id="p1504330163617"><a name="p1504330163617"></a><a name="p1504330163617"></a>参数类型</p>
    </th>
    <th class="cellrowborder" valign="top" width="35%" id="mcps1.2.4.1.3"><p id="p8510123012366"><a name="p8510123012366"></a><a name="p8510123012366"></a>描述</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="row851653083619"><td class="cellrowborder" valign="top" width="35%" headers="mcps1.2.4.1.1 "><p id="p3521030193612"><a name="p3521030193612"></a><a name="p3521030193612"></a>phase</p>
    </td>
    <td class="cellrowborder" valign="top" width="30.000000000000004%" headers="mcps1.2.4.1.2 "><p id="p12527133018366"><a name="p12527133018366"></a><a name="p12527133018366"></a>string</p>
    </td>
    <td class="cellrowborder" valign="top" width="35%" headers="mcps1.2.4.1.3 "><p id="p253643016363"><a name="p253643016363"></a><a name="p253643016363"></a>该操作步骤的执行状态</p>
    </td>
    </tr>
    <tr id="row65391730163619"><td class="cellrowborder" valign="top" width="35%" headers="mcps1.2.4.1.1 "><p id="p18545203013361"><a name="p18545203013361"></a><a name="p18545203013361"></a>message</p>
    </td>
    <td class="cellrowborder" valign="top" width="30.000000000000004%" headers="mcps1.2.4.1.2 "><p id="p3550193013363"><a name="p3550193013363"></a><a name="p3550193013363"></a>string</p>
    </td>
    <td class="cellrowborder" valign="top" width="35%" headers="mcps1.2.4.1.3 "><p id="p75561930193613"><a name="p75561930193613"></a><a name="p75561930193613"></a>详细的出错信息</p>
    </td>
    </tr>
    <tr id="row1555912303364"><td class="cellrowborder" valign="top" width="35%" headers="mcps1.2.4.1.1 "><p id="p956318308369"><a name="p956318308369"></a><a name="p956318308369"></a>reason</p>
    </td>
    <td class="cellrowborder" valign="top" width="30.000000000000004%" headers="mcps1.2.4.1.2 "><p id="p145699308368"><a name="p145699308368"></a><a name="p145699308368"></a>string</p>
    </td>
    <td class="cellrowborder" valign="top" width="35%" headers="mcps1.2.4.1.3 "><p id="p13574163015369"><a name="p13574163015369"></a><a name="p13574163015369"></a>CamelCase格式的错误描述信息</p>
    </td>
    </tr>
    <tr id="row257623043614"><td class="cellrowborder" valign="top" width="35%" headers="mcps1.2.4.1.1 "><p id="p2582193013363"><a name="p2582193013363"></a><a name="p2582193013363"></a>updateAt</p>
    </td>
    <td class="cellrowborder" valign="top" width="30.000000000000004%" headers="mcps1.2.4.1.2 "><p id="p5587830163616"><a name="p5587830163616"></a><a name="p5587830163616"></a>string</p>
    </td>
    <td class="cellrowborder" valign="top" width="35%" headers="mcps1.2.4.1.3 "><p id="p19593193023614"><a name="p19593193023614"></a><a name="p19593193023614"></a>以RFC3339格式表示的信息更新的UTC时间戳</p>
    </td>
    </tr>
    <tr id="row183493710"><td class="cellrowborder" valign="top" width="35%" headers="mcps1.2.4.1.1 "><p id="p17834163713"><a name="p17834163713"></a><a name="p17834163713"></a>subActionName</p>
    </td>
    <td class="cellrowborder" valign="top" width="30.000000000000004%" headers="mcps1.2.4.1.2 "><p id="p17820443715"><a name="p17820443715"></a><a name="p17820443715"></a>string</p>
    </td>
    <td class="cellrowborder" valign="top" width="35%" headers="mcps1.2.4.1.3 "><p id="p98184193717"><a name="p98184193717"></a><a name="p98184193717"></a>元素子操作的名字</p>
    </td>
    </tr>
    <tr id="row145956306366"><td class="cellrowborder" valign="top" width="35%" headers="mcps1.2.4.1.1 "><p id="p19600113019367"><a name="p19600113019367"></a><a name="p19600113019367"></a>createAt</p>
    </td>
    <td class="cellrowborder" valign="top" width="30.000000000000004%" headers="mcps1.2.4.1.2 "><p id="p66041030123612"><a name="p66041030123612"></a><a name="p66041030123612"></a>string</p>
    </td>
    <td class="cellrowborder" valign="top" width="35%" headers="mcps1.2.4.1.3 "><p id="p56091830123617"><a name="p56091830123617"></a><a name="p56091830123617"></a>以RFC3339格式表示的信息创建的UTC时间戳</p>
    </td>
    </tr>
    </tbody>
    </table>

    **表 13**  Stack Status HealthyStatus结构

    <a name="table596118212716"></a>
    <table><thead align="left"><tr id="row699312182715"><th class="cellrowborder" valign="top" width="26%" id="mcps1.2.4.1.1"><p id="p1499752152710"><a name="p1499752152710"></a><a name="p1499752152710"></a>参数</p>
    </th>
    <th class="cellrowborder" valign="top" width="39%" id="mcps1.2.4.1.2"><p id="p1431031270"><a name="p1431031270"></a><a name="p1431031270"></a>参数类型</p>
    </th>
    <th class="cellrowborder" valign="top" width="35%" id="mcps1.2.4.1.3"><p id="p10814342712"><a name="p10814342712"></a><a name="p10814342712"></a>描述</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="row11213372719"><td class="cellrowborder" valign="top" width="26%" headers="mcps1.2.4.1.1 "><p id="p1134112711289"><a name="p1134112711289"></a><a name="p1134112711289"></a>status</p>
    </td>
    <td class="cellrowborder" valign="top" width="39%" headers="mcps1.2.4.1.2 "><p id="p22118313272"><a name="p22118313272"></a><a name="p22118313272"></a>string</p>
    </td>
    <td class="cellrowborder" valign="top" width="35%" headers="mcps1.2.4.1.3 "><p id="p14267302717"><a name="p14267302717"></a><a name="p14267302717"></a>健康检查后堆栈的状态</p>
    </td>
    </tr>
    <tr id="row231235272"><td class="cellrowborder" valign="top" width="26%" headers="mcps1.2.4.1.1 "><p id="p449923913284"><a name="p449923913284"></a><a name="p449923913284"></a>healthyMessage</p>
    </td>
    <td class="cellrowborder" valign="top" width="39%" headers="mcps1.2.4.1.2 "><p id="p104120315275"><a name="p104120315275"></a><a name="p104120315275"></a>string</p>
    </td>
    <td class="cellrowborder" valign="top" width="35%" headers="mcps1.2.4.1.3 "><p id="p174615312719"><a name="p174615312719"></a><a name="p174615312719"></a>健康检查的结果信息</p>
    </td>
    </tr>
    <tr id="row13481739273"><td class="cellrowborder" valign="top" width="26%" headers="mcps1.2.4.1.1 "><p id="p155611755122814"><a name="p155611755122814"></a><a name="p155611755122814"></a>elements</p>
    </td>
    <td class="cellrowborder" valign="top" width="39%" headers="mcps1.2.4.1.2 "><p id="p20193810306"><a name="p20193810306"></a><a name="p20193810306"></a>json结构，每个key-value结构表示有名为key的元素，其健康检查结果为value，value的结构如<a href="#table8880659162810">表14</a></p>
    </td>
    <td class="cellrowborder" valign="top" width="35%" headers="mcps1.2.4.1.3 "><p id="p1916335715297"><a name="p1916335715297"></a><a name="p1916335715297"></a>健康检查各个元素的结果信息</p>
    </td>
    </tr>
    <tr id="row16636320278"><td class="cellrowborder" valign="top" width="26%" headers="mcps1.2.4.1.1 "><p id="p82791145132711"><a name="p82791145132711"></a><a name="p82791145132711"></a>healthyCheckTimestamp</p>
    </td>
    <td class="cellrowborder" valign="top" width="39%" headers="mcps1.2.4.1.2 "><p id="p197516316279"><a name="p197516316279"></a><a name="p197516316279"></a>string</p>
    </td>
    <td class="cellrowborder" valign="top" width="35%" headers="mcps1.2.4.1.3 "><p id="p15801313273"><a name="p15801313273"></a><a name="p15801313273"></a>以RFC3339格式表示的健康检查时间戳</p>
    </td>
    </tr>
    </tbody>
    </table>

    **表 14**  Stack Status HealthyStatus ElementHealthyStatus结构

    <a name="table8880659162810"></a>
    <table><thead align="left"><tr id="row189062593283"><th class="cellrowborder" valign="top" width="26%" id="mcps1.2.4.1.1"><p id="p591395922817"><a name="p591395922817"></a><a name="p591395922817"></a>参数</p>
    </th>
    <th class="cellrowborder" valign="top" width="25%" id="mcps1.2.4.1.2"><p id="p10919559202812"><a name="p10919559202812"></a><a name="p10919559202812"></a>参数类型</p>
    </th>
    <th class="cellrowborder" valign="top" width="49%" id="mcps1.2.4.1.3"><p id="p192514597283"><a name="p192514597283"></a><a name="p192514597283"></a>描述</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="row293445952814"><td class="cellrowborder" valign="top" width="26%" headers="mcps1.2.4.1.1 "><p id="p179416594285"><a name="p179416594285"></a><a name="p179416594285"></a>status</p>
    </td>
    <td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.4.1.2 "><p id="p494855922811"><a name="p494855922811"></a><a name="p494855922811"></a>string</p>
    </td>
    <td class="cellrowborder" valign="top" width="49%" headers="mcps1.2.4.1.3 "><p id="p179562599287"><a name="p179562599287"></a><a name="p179562599287"></a>健康检查后元素的状态</p>
    </td>
    </tr>
    <tr id="row49592593283"><td class="cellrowborder" valign="top" width="26%" headers="mcps1.2.4.1.1 "><p id="p14964155915285"><a name="p14964155915285"></a><a name="p14964155915285"></a>message</p>
    </td>
    <td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.4.1.2 "><p id="p297125916285"><a name="p297125916285"></a><a name="p297125916285"></a>string</p>
    </td>
    <td class="cellrowborder" valign="top" width="49%" headers="mcps1.2.4.1.3 "><p id="p2097635910286"><a name="p2097635910286"></a><a name="p2097635910286"></a>元素健康检查的结果信息</p>
    </td>
    </tr>
    <tr id="row1897813599284"><td class="cellrowborder" valign="top" width="26%" headers="mcps1.2.4.1.1 "><p id="p998375952812"><a name="p998375952812"></a><a name="p998375952812"></a>runtimes</p>
    </td>
    <td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.4.1.2 "><p id="p199901359142815"><a name="p199901359142815"></a><a name="p199901359142815"></a>json结构</p>
    </td>
    <td class="cellrowborder" valign="top" width="49%" headers="mcps1.2.4.1.3 "><p id="p1999655910288"><a name="p1999655910288"></a><a name="p1999655910288"></a>每个key-value表示健康检查结果的某个特性</p>
    </td>
    </tr>
    </tbody>
    </table>

-   成功响应示例

    此处只写出单一堆栈结构，url返回为JSONArray（\[\{"name": "stack1", ...\}, \{"name": "stack2", ...\}\]）

    ```
    {
        "force": false,
        "guid": "6c2dc1bc-66cc-11e7-8a31-0255ac101c16",
        "namespace": "csc-system",
        "project_id": "3de3c020647e447fb9c9dbe1f0fc8b85",
        "cluster_name": "cluster01",
        "cluster_id": "d019ddfa-61e2-11e7-80ba-0255ac100705",
        "domain_id": "c952eaaa5bdc43668d31aff2bb74a72d",
        "name": "b-lss-f98q0",
        "description": "",
        "status": "Running",
        "template_id": "6307541e-11e9-8d57-0682-0a0ab82e8450",
        "previous_template_id": "",
        "template_name": "paasconsole",
        "healthy": true,
        "healthy_message": "",
        "inputs_json": "{\"app_path\":\"/\",\"container_port\":18081,\"custom_tag_key0\":\"netype\",\"custom_tag_val0\":\"com.huawei.itpaas.platformservice.ncss\",\"extend_info\":\"{}\",\"image_name\":\"10.101.248.47:20202/aos-team/cam-default/dw_broker_lss_suse11sp3:v600r001c11\",\"pod_name\":\"b-lss-f98q0\",\"role_name\":\"manage\",\"secret_name\":\"default-ingress-ssl\",\"service_guid\":\"beef926a-e170-0419-c220-16d90bce9951\",\"sso_info\":\"{\\\"iam_external_domain\\\":\\\"10.101.248.93\\\",\\\"iam_external_addr\\\":\\\"10.101.248.93\\\",\\\"iam_internal_ip\\\":\\\"iam.kube-system.svc.cluster.local\\\",\\\"iam_port\\\":\\\"31943\\\"}\",\"volume_container_path\":\"/home/agentlib/uniagentconf\",\"volume_host_path\":\"/home/agentlib/uniagentconf\"}",
        "previous_inputs_json": "",
        "create_at": "2017-07-12T06:36:23Z",
        "update_at": "2017-07-12T06:36:39Z",
        "labels": "",
        "object": {
            "metadata": {
                "name": "b-lss-f98q0",
                "namespace": "3de3c020647e447fb9c9dbe1f0fc8b85",
                "selfLink": "/apis/paas/v1alpha1/namespaces/3de3c020647e447fb9c9dbe1f0fc8b85/stacks/b-lss-f98q0",
                "uid": "6c2dc1bc-66cc-11e7-8a31-0255ac101c16",
                "resourceVersion": "1442425",
                "creationTimestamp": "2017-07-12T06:36:23Z",
                "labels": {
                    "stackname": "b-lss-f98q0"
                },
                "annotations": {
                    "cluster-id": "d019ddfa-61e2-11e7-80ba-0255ac100705",
                    "namespace": "csc-system",
                    "paas-iam.alpha.kubernetes.io/domain-id": "c952eaaa5bdc43668d31aff2bb74a72d",
                    "stack.kubernetes.io/revision": "1"
                }
            },
            "spec": {
                "selector": {
                    "matchLabels": {
                        "stackname": "b-lss-f98q0"
                    }
                },
                "template": {
                    "type": "Aos",
                    "data": "******"
                }
            },
            "status": {
                "phase": "CreateSucceeded",
                "elementStatuses": {
                    "paas-console-app": {
                        "runtimeProperties": {
                            "CfeCluster": "{\"clusterID\":\"d019ddfa-61e2-11e7-80ba-0255ac100705\",\"namespace\":\"csc-system\"}",
                            "ConfigMap": "{\"selfLink\":\"/api/v1/namespaces/csc-system/configmaps/b-lss-f98q0\",\"name\":\"b-lss-f98q0\",\"id\":\"7248cfe7-66cc-11e7-9a88-286ed489ceaa\"}",
                            "Deployment": "{\"selfLink\":\"/apis/extensions/v1beta1/namespaces/csc-system/deployments/b-lss-f98q0\",\"name\":\"b-lss-f98q0\",\"id\":\"7253bff2-66cc-11e7-9a88-286ed489ceaa\"}",
                            "Ingress": "{\"selfLink\":\"/apis/extensions/v1beta1/namespaces/csc-system/ingresses/b-lss-f98q0\",\"annotations\":{\"ingress.beta.kubernetes.io/role\":\"manage\",\"ingress.beta.kubernetes.io/type\":\"external\",\"ingress.kubernetes.io/external-address\":\"10.101.204.188:30283\",\"ingress.kubernetes.io/external-ssl-address\":\"10.101.204.188:30282\"},\"rules\":[{\"host\":\"b-lss-f98q0-csc-system.10.101.204.188.xip.io\",\"http\":{\"paths\":[{\"path\":\"/\",\"backend\":{\"serviceName\":\"b-lss-f98q0\",\"servicePort\":32158}}]}}]}",
                            "Service": "{\"selfLink\":\"/api/v1/namespaces/csc-system/services/b-lss-f98q0\",\"type\":\"NodePort\",\"ports\":[{\"name\":\"\",\"protocol\":\"TCP\",\"port\":18081,\"targetPort\":18081,\"nodePort\":32158}],\"selector\":{\"app\":\"b-lss-f98q0\",\"stack-name\":\"b-lss-f98q0\"},\"clusterIP\":\"10.247.248.87\",\"ExternalName\":\"\",\"sessionAffinity\":\"None\"}"
                        }
                    }
                },
                "lastExecutionStatus": {
                    "actionName": "create",
                    "progress": 100,
                    "objectStatus": {
                        "phase": "Succeeded",
                        "updateAt": "2017-07-12T06:36:37Z"
                    },
                    "subObjectStatuses": {
                        "host-dir": {
                            "phase": "Succeeded",
                            "updateAt": "2017-07-12T06:36:23Z"
                        },
                        "paas-console": {
                            "phase": "Succeeded",
                            "updateAt": "2017-07-12T06:36:23Z"
                        },
                        "paas-console-app": {
                            "phase": "Succeeded",
                            "updateAt": "2017-07-12T06:36:36Z"
                        }
                    }
                }
            }
        },
        "health": {
            "message": "",
            "healthy": true
        }
    }
    ```

-   错误响应示例

    ```
    {
      "message": "Internal error.please check the error log and handle it.",
      "code": "02000051",
      "extend": ""
    }
    ```


## 状态码<a name="section2270194314129"></a>

-   正常

    **表 15**  状态码

    <a name="table327017432121"></a>
    <table><thead align="left"><tr id="row227124331213"><th class="cellrowborder" valign="top" width="50%" id="mcps1.2.3.1.1"><p id="p627118435121"><a name="p627118435121"></a><a name="p627118435121"></a>状态码</p>
    </th>
    <th class="cellrowborder" valign="top" width="50%" id="mcps1.2.3.1.2"><p id="p1927114435120"><a name="p1927114435120"></a><a name="p1927114435120"></a>描述</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="row627174311121"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.2.3.1.1 "><p id="p19271543151218"><a name="p19271543151218"></a><a name="p19271543151218"></a>200</p>
    </td>
    <td class="cellrowborder" valign="top" width="50%" headers="mcps1.2.3.1.2 "><p id="p127114317120"><a name="p127114317120"></a><a name="p127114317120"></a>查询堆栈列表成功</p>
    </td>
    </tr>
    </tbody>
    </table>

-   异常

    **表 16**  状态码

    <a name="table172711343121214"></a>
    <table><thead align="left"><tr id="row1327119436124"><th class="cellrowborder" valign="top" width="50%" id="mcps1.2.3.1.1"><p id="p5271134351220"><a name="p5271134351220"></a><a name="p5271134351220"></a>状态码</p>
    </th>
    <th class="cellrowborder" valign="top" width="50%" id="mcps1.2.3.1.2"><p id="p9271843191220"><a name="p9271843191220"></a><a name="p9271843191220"></a>描述</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="row10271543181218"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.2.3.1.1 "><p id="p17271114381212"><a name="p17271114381212"></a><a name="p17271114381212"></a>500</p>
    </td>
    <td class="cellrowborder" valign="top" width="50%" headers="mcps1.2.3.1.2 "><p id="p7271194314123"><a name="p7271194314123"></a><a name="p7271194314123"></a>服务器遇到了一个未曾预料的状况，导致无法完成对请求的处理。</p>
    </td>
    </tr>
    </tbody>
    </table>


