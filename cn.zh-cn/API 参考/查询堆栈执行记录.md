# 查询堆栈执行记录<a name="aos_02_0033"></a>

## 功能介绍<a name="section18689101522312"></a>

用于查询堆栈某一次执行记录。

## URI<a name="section1968961513235"></a>

GET /v2/stacks/\{stack\_id\}/actions/\{action\_id\}

**表 1**  参数说明

<a name="table17481373119"></a>
<table><thead align="left"><tr id="row6749875118"><th class="cellrowborder" valign="top" width="26.87%" id="mcps1.2.5.1.1"><p id="p47491077111"><a name="p47491077111"></a><a name="p47491077111"></a>参数</p>
</th>
<th class="cellrowborder" valign="top" width="16.41%" id="mcps1.2.5.1.2"><p id="p58713353212"><a name="p58713353212"></a><a name="p58713353212"></a>是否必选</p>
</th>
<th class="cellrowborder" valign="top" width="15.939999999999998%" id="mcps1.2.5.1.3"><p id="p48615198329"><a name="p48615198329"></a><a name="p48615198329"></a>参数类型</p>
</th>
<th class="cellrowborder" valign="top" width="40.78%" id="mcps1.2.5.1.4"><p id="p87491271011"><a name="p87491271011"></a><a name="p87491271011"></a>描述</p>
</th>
</tr>
</thead>
<tbody><tr id="row137493718111"><td class="cellrowborder" valign="top" width="26.87%" headers="mcps1.2.5.1.1 "><p id="p174911718115"><a name="p174911718115"></a><a name="p174911718115"></a>stack_id</p>
</td>
<td class="cellrowborder" valign="top" width="16.41%" headers="mcps1.2.5.1.2 "><p id="p987183552113"><a name="p987183552113"></a><a name="p987183552113"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="15.939999999999998%" headers="mcps1.2.5.1.3 "><p id="p5871019163217"><a name="p5871019163217"></a><a name="p5871019163217"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="40.78%" headers="mcps1.2.5.1.4 "><p id="p07491172113"><a name="p07491172113"></a><a name="p07491172113"></a>堆栈ID，长度[1, 64]。</p>
</td>
</tr>
<tr id="row1674917714118"><td class="cellrowborder" valign="top" width="26.87%" headers="mcps1.2.5.1.1 "><p id="p1174919719114"><a name="p1174919719114"></a><a name="p1174919719114"></a>action_id</p>
</td>
<td class="cellrowborder" valign="top" width="16.41%" headers="mcps1.2.5.1.2 "><p id="p15877352215"><a name="p15877352215"></a><a name="p15877352215"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="15.939999999999998%" headers="mcps1.2.5.1.3 "><p id="p1787141993214"><a name="p1787141993214"></a><a name="p1787141993214"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="40.78%" headers="mcps1.2.5.1.4 "><p id="p87492071011"><a name="p87492071011"></a><a name="p87492071011"></a>执行记录的名称，长度[1, 64]。</p>
</td>
</tr>
</tbody>
</table>

## 请求消息<a name="section46892155238"></a>

N/A。

## 响应消息<a name="section1869171510238"></a>

-   响应参数

    响应参数参见[表2](#table136541125713)。

    **表 2**  响应参数

    <a name="table136541125713"></a>
    <table><thead align="left"><tr id="row126174145719"><th class="cellrowborder" valign="top" width="19.981998199819984%" id="mcps1.2.4.1.1"><p id="p15634115574"><a name="p15634115574"></a><a name="p15634115574"></a>参数</p>
    </th>
    <th class="cellrowborder" valign="top" width="25.182518251825186%" id="mcps1.2.4.1.2"><p id="p20618411577"><a name="p20618411577"></a><a name="p20618411577"></a>参数类型</p>
    </th>
    <th class="cellrowborder" valign="top" width="54.83548354835484%" id="mcps1.2.4.1.3"><p id="p46641135718"><a name="p46641135718"></a><a name="p46641135718"></a>描述</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="row06730382716"><td class="cellrowborder" valign="top" width="19.981998199819984%" headers="mcps1.2.4.1.1 "><p id="p46740381713"><a name="p46740381713"></a><a name="p46740381713"></a>kind</p>
    </td>
    <td class="cellrowborder" valign="top" width="25.182518251825186%" headers="mcps1.2.4.1.2 "><p id="p57145269553"><a name="p57145269553"></a><a name="p57145269553"></a>String</p>
    </td>
    <td class="cellrowborder" valign="top" width="54.83548354835484%" headers="mcps1.2.4.1.3 "><p id="p12712326175517"><a name="p12712326175517"></a><a name="p12712326175517"></a>API类型，固定值“Execution”，该值不可修改。</p>
    </td>
    </tr>
    <tr id="row46489421575"><td class="cellrowborder" valign="top" width="19.981998199819984%" headers="mcps1.2.4.1.1 "><p id="p16648042279"><a name="p16648042279"></a><a name="p16648042279"></a>apiVersion</p>
    </td>
    <td class="cellrowborder" valign="top" width="25.182518251825186%" headers="mcps1.2.4.1.2 "><p id="p6707526185513"><a name="p6707526185513"></a><a name="p6707526185513"></a>String</p>
    </td>
    <td class="cellrowborder" valign="top" width="54.83548354835484%" headers="mcps1.2.4.1.3 "><p id="p1770492695518"><a name="p1770492695518"></a><a name="p1770492695518"></a>API版本，固定值“paas/v1alpha1”，该值不可修改。</p>
    </td>
    </tr>
    <tr id="row361041195717"><td class="cellrowborder" valign="top" width="19.981998199819984%" headers="mcps1.2.4.1.1 "><p id="p466411572"><a name="p466411572"></a><a name="p466411572"></a>metadata</p>
    </td>
    <td class="cellrowborder" valign="top" width="25.182518251825186%" headers="mcps1.2.4.1.2 "><p id="p8619418572"><a name="p8619418572"></a><a name="p8619418572"></a>Object</p>
    </td>
    <td class="cellrowborder" valign="top" width="54.83548354835484%" headers="mcps1.2.4.1.3 "><p id="p17612411574"><a name="p17612411574"></a><a name="p17612411574"></a>Execution的元信息<span>，详情</span>请参见<a href="#table1311002911343">表3</a>。</p>
    </td>
    </tr>
    <tr id="row126174185710"><td class="cellrowborder" valign="top" width="19.981998199819984%" headers="mcps1.2.4.1.1 "><p id="p196141115716"><a name="p196141115716"></a><a name="p196141115716"></a>spec</p>
    </td>
    <td class="cellrowborder" valign="top" width="25.182518251825186%" headers="mcps1.2.4.1.2 "><p id="p1953964675019"><a name="p1953964675019"></a><a name="p1953964675019"></a>Object</p>
    </td>
    <td class="cellrowborder" valign="top" width="54.83548354835484%" headers="mcps1.2.4.1.3 "><p id="p561410573"><a name="p561410573"></a><a name="p561410573"></a>Execution的属性，<span>详情</span>请参见<a href="#table26821305364">表4</a>。</p>
    </td>
    </tr>
    <tr id="row1065414572"><td class="cellrowborder" valign="top" width="19.981998199819984%" headers="mcps1.2.4.1.1 "><p id="p1611419577"><a name="p1611419577"></a><a name="p1611419577"></a>status</p>
    </td>
    <td class="cellrowborder" valign="top" width="25.182518251825186%" headers="mcps1.2.4.1.2 "><p id="p1255174605010"><a name="p1255174605010"></a><a name="p1255174605010"></a>Object</p>
    </td>
    <td class="cellrowborder" valign="top" width="54.83548354835484%" headers="mcps1.2.4.1.3 "><p id="p12613414579"><a name="p12613414579"></a><a name="p12613414579"></a>Execution的执行状态，<span>详情</span>请参见<a href="#table272789203017">表7</a>。</p>
    </td>
    </tr>
    </tbody>
    </table>

    **表 3**  Execution Metadata结构

    <a name="table1311002911343"></a>
    <table><thead align="left"><tr id="row201171629133411"><th class="cellrowborder" valign="top" width="19.611961196119612%" id="mcps1.2.4.1.1"><p id="p11193296346"><a name="p11193296346"></a><a name="p11193296346"></a>参数</p>
    </th>
    <th class="cellrowborder" valign="top" width="26.27262726272627%" id="mcps1.2.4.1.2"><p id="p31214299347"><a name="p31214299347"></a><a name="p31214299347"></a>参数类型</p>
    </th>
    <th class="cellrowborder" valign="top" width="54.11541154115411%" id="mcps1.2.4.1.3"><p id="p111231129193420"><a name="p111231129193420"></a><a name="p111231129193420"></a>描述</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="row112512973418"><td class="cellrowborder" valign="top" width="19.611961196119612%" headers="mcps1.2.4.1.1 "><p id="p31271229123416"><a name="p31271229123416"></a><a name="p31271229123416"></a>name</p>
    </td>
    <td class="cellrowborder" valign="top" width="26.27262726272627%" headers="mcps1.2.4.1.2 "><p id="p812862911346"><a name="p812862911346"></a><a name="p812862911346"></a>String</p>
    </td>
    <td class="cellrowborder" valign="top" width="54.11541154115411%" headers="mcps1.2.4.1.3 "><p id="p813052914349"><a name="p813052914349"></a><a name="p813052914349"></a>Execution的名字，在执行生命周期的时候作为action_id传入。</p>
    </td>
    </tr>
    <tr id="row2130129103416"><td class="cellrowborder" valign="top" width="19.611961196119612%" headers="mcps1.2.4.1.1 "><p id="p1813242963414"><a name="p1813242963414"></a><a name="p1813242963414"></a>labels</p>
    </td>
    <td class="cellrowborder" valign="top" width="26.27262726272627%" headers="mcps1.2.4.1.2 "><p id="p12667567438"><a name="p12667567438"></a><a name="p12667567438"></a>String</p>
    </td>
    <td class="cellrowborder" valign="top" width="54.11541154115411%" headers="mcps1.2.4.1.3 "><p id="p766656154310"><a name="p766656154310"></a><a name="p766656154310"></a>Execution的标签,标签与创建时的stack一致，额外添加一个execution-hash字段。</p>
    </td>
    </tr>
    <tr id="row1513642920348"><td class="cellrowborder" valign="top" width="19.611961196119612%" headers="mcps1.2.4.1.1 "><p id="p15137142903418"><a name="p15137142903418"></a><a name="p15137142903418"></a>namespace</p>
    </td>
    <td class="cellrowborder" valign="top" width="26.27262726272627%" headers="mcps1.2.4.1.2 "><p id="p9139152919345"><a name="p9139152919345"></a><a name="p9139152919345"></a>String</p>
    </td>
    <td class="cellrowborder" valign="top" width="54.11541154115411%" headers="mcps1.2.4.1.3 "><p id="p2014015295344"><a name="p2014015295344"></a><a name="p2014015295344"></a><span>堆栈的项目ID，与堆栈的命名空间的字段一致</span>。</p>
    </td>
    </tr>
    <tr id="row99914319167"><td class="cellrowborder" valign="top" width="19.611961196119612%" headers="mcps1.2.4.1.1 "><p id="p72758195431"><a name="p72758195431"></a><a name="p72758195431"></a>annotations</p>
    </td>
    <td class="cellrowborder" valign="top" width="26.27262726272627%" headers="mcps1.2.4.1.2 "><p id="p2027519193437"><a name="p2027519193437"></a><a name="p2027519193437"></a>Map&lt;String,String&gt;</p>
    </td>
    <td class="cellrowborder" valign="top" width="54.11541154115411%" headers="mcps1.2.4.1.3 "><p id="p78241333134310"><a name="p78241333134310"></a><a name="p78241333134310"></a><span>堆栈的特殊属性，当前AOS共填写3个字段：</span></p>
    <a name="ul108768352437"></a><a name="ul108768352437"></a><ul id="ul108768352437"><li><span>paas-iam.alpha.kubernetes.io/domain-id: 与顶层的domain_id字段一致</span></li><li><span>namespace: 与顶层的namespace字段一致</span></li><li><span>cluster-id: 与顶层的cluster_id字段一致</span></li></ul>
    </td>
    </tr>
    <tr id="row259765915426"><td class="cellrowborder" valign="top" width="19.611961196119612%" headers="mcps1.2.4.1.1 "><p id="p658764012447"><a name="p658764012447"></a><a name="p658764012447"></a>resourceVersion</p>
    </td>
    <td class="cellrowborder" valign="top" width="26.27262726272627%" headers="mcps1.2.4.1.2 "><p id="p149581247154412"><a name="p149581247154412"></a><a name="p149581247154412"></a>String</p>
    </td>
    <td class="cellrowborder" valign="top" width="54.11541154115411%" headers="mcps1.2.4.1.3 "><p id="p1858714015449"><a name="p1858714015449"></a><a name="p1858714015449"></a>资源版本</p>
    </td>
    </tr>
    <tr id="row735732134318"><td class="cellrowborder" valign="top" width="19.611961196119612%" headers="mcps1.2.4.1.1 "><p id="p658704094419"><a name="p658704094419"></a><a name="p658704094419"></a>selfLink</p>
    </td>
    <td class="cellrowborder" valign="top" width="26.27262726272627%" headers="mcps1.2.4.1.2 "><p id="p9977174744416"><a name="p9977174744416"></a><a name="p9977174744416"></a>String</p>
    </td>
    <td class="cellrowborder" valign="top" width="54.11541154115411%" headers="mcps1.2.4.1.3 "><p id="p958711406445"><a name="p958711406445"></a><a name="p958711406445"></a>访问该资源的api地址</p>
    </td>
    </tr>
    <tr id="row20541178436"><td class="cellrowborder" valign="top" width="19.611961196119612%" headers="mcps1.2.4.1.1 "><p id="p1358720405442"><a name="p1358720405442"></a><a name="p1358720405442"></a>uid</p>
    </td>
    <td class="cellrowborder" valign="top" width="26.27262726272627%" headers="mcps1.2.4.1.2 "><p id="p999010474444"><a name="p999010474444"></a><a name="p999010474444"></a>String</p>
    </td>
    <td class="cellrowborder" valign="top" width="54.11541154115411%" headers="mcps1.2.4.1.3 "><p id="p15871440194410"><a name="p15871440194410"></a><a name="p15871440194410"></a>堆栈资源的ID，与顶层的guid字段一致。</p>
    </td>
    </tr>
    </tbody>
    </table>

    **表 4**  Execution Spec结构

    <a name="table26821305364"></a>
    <table><thead align="left"><tr id="row166892014368"><th class="cellrowborder" valign="top" width="23.002300230023003%" id="mcps1.2.4.1.1"><p id="p18690106364"><a name="p18690106364"></a><a name="p18690106364"></a>参数</p>
    </th>
    <th class="cellrowborder" valign="top" width="22.932293229322934%" id="mcps1.2.4.1.2"><p id="p196931003617"><a name="p196931003617"></a><a name="p196931003617"></a>参数类型</p>
    </th>
    <th class="cellrowborder" valign="top" width="54.06540654065406%" id="mcps1.2.4.1.3"><p id="p1369510013616"><a name="p1369510013616"></a><a name="p1369510013616"></a>描述</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="row570880123610"><td class="cellrowborder" valign="top" width="23.002300230023003%" headers="mcps1.2.4.1.1 "><p id="p1355241720463"><a name="p1355241720463"></a><a name="p1355241720463"></a>actionName</p>
    </td>
    <td class="cellrowborder" valign="top" width="22.932293229322934%" headers="mcps1.2.4.1.2 "><p id="p18161649184610"><a name="p18161649184610"></a><a name="p18161649184610"></a>String</p>
    </td>
    <td class="cellrowborder" valign="top" width="54.06540654065406%" headers="mcps1.2.4.1.3 "><p id="p16552717194615"><a name="p16552717194615"></a><a name="p16552717194615"></a>Execution的生命周期名称</p>
    </td>
    </tr>
    <tr id="row114448448192"><td class="cellrowborder" valign="top" width="23.002300230023003%" headers="mcps1.2.4.1.1 "><p id="p1552517154617"><a name="p1552517154617"></a><a name="p1552517154617"></a>changedObjectData</p>
    </td>
    <td class="cellrowborder" valign="top" width="22.932293229322934%" headers="mcps1.2.4.1.2 "><p id="p2826184934616"><a name="p2826184934616"></a><a name="p2826184934616"></a>String</p>
    </td>
    <td class="cellrowborder" valign="top" width="54.06540654065406%" headers="mcps1.2.4.1.3 "><p id="p1553191774618"><a name="p1553191774618"></a><a name="p1553191774618"></a>Execution修改的节点属性,base64编码</p>
    </td>
    </tr>
    <tr id="row49184475194"><td class="cellrowborder" valign="top" width="23.002300230023003%" headers="mcps1.2.4.1.1 "><p id="p115531517134612"><a name="p115531517134612"></a><a name="p115531517134612"></a>disableStrategy</p>
    </td>
    <td class="cellrowborder" valign="top" width="22.932293229322934%" headers="mcps1.2.4.1.2 "><p id="p11840104954619"><a name="p11840104954619"></a><a name="p11840104954619"></a>String</p>
    </td>
    <td class="cellrowborder" valign="top" width="54.06540654065406%" headers="mcps1.2.4.1.3 "><p id="p455391716464"><a name="p455391716464"></a><a name="p455391716464"></a>执行动作禁用策略</p>
    </td>
    </tr>
    <tr id="row18877154961912"><td class="cellrowborder" valign="top" width="23.002300230023003%" headers="mcps1.2.4.1.1 "><p id="p9553101715469"><a name="p9553101715469"></a><a name="p9553101715469"></a>location</p>
    </td>
    <td class="cellrowborder" valign="top" width="22.932293229322934%" headers="mcps1.2.4.1.2 "><p id="p11851144914615"><a name="p11851144914615"></a><a name="p11851144914615"></a>String</p>
    </td>
    <td class="cellrowborder" valign="top" width="54.06540654065406%" headers="mcps1.2.4.1.3 "><p id="p0553217194613"><a name="p0553217194613"></a><a name="p0553217194613"></a>指定的Execution执行者所在的位置</p>
    </td>
    </tr>
    <tr id="row1152011562190"><td class="cellrowborder" valign="top" width="23.002300230023003%" headers="mcps1.2.4.1.1 "><p id="p1755301734619"><a name="p1755301734619"></a><a name="p1755301734619"></a>metadata</p>
    </td>
    <td class="cellrowborder" valign="top" width="22.932293229322934%" headers="mcps1.2.4.1.2 "><p id="p49513309461"><a name="p49513309461"></a><a name="p49513309461"></a>Object</p>
    </td>
    <td class="cellrowborder" valign="top" width="54.06540654065406%" headers="mcps1.2.4.1.3 "><p id="p7553201724617"><a name="p7553201724617"></a><a name="p7553201724617"></a>K8SStackSpec的元信息，<span>详情</span>请参见<a href="#table1579935583115">表5</a>。</p>
    </td>
    </tr>
    <tr id="row1322819187206"><td class="cellrowborder" valign="top" width="23.002300230023003%" headers="mcps1.2.4.1.1 "><p id="p25538172467"><a name="p25538172467"></a><a name="p25538172467"></a>objectData</p>
    </td>
    <td class="cellrowborder" valign="top" width="22.932293229322934%" headers="mcps1.2.4.1.2 "><p id="p1255351717465"><a name="p1255351717465"></a><a name="p1255351717465"></a>String</p>
    </td>
    <td class="cellrowborder" valign="top" width="54.06540654065406%" headers="mcps1.2.4.1.3 "><p id="p555341713462"><a name="p555341713462"></a><a name="p555341713462"></a>Execution运行时的节点属性，base64编码的模板实例化数据。</p>
    </td>
    </tr>
    <tr id="row910180112119"><td class="cellrowborder" valign="top" width="23.002300230023003%" headers="mcps1.2.4.1.1 "><p id="p115533177465"><a name="p115533177465"></a><a name="p115533177465"></a>objectReference</p>
    </td>
    <td class="cellrowborder" valign="top" width="22.932293229322934%" headers="mcps1.2.4.1.2 "><p id="p651673215462"><a name="p651673215462"></a><a name="p651673215462"></a>Object</p>
    </td>
    <td class="cellrowborder" valign="top" width="54.06540654065406%" headers="mcps1.2.4.1.3 "><p id="p1955361717467"><a name="p1955361717467"></a><a name="p1955361717467"></a>ExecutionSpec的objectReference参数，<span>详情</span>请参见<a href="#table14131138202815">表6</a>。</p>
    </td>
    </tr>
    <tr id="row3916122314209"><td class="cellrowborder" valign="top" width="23.002300230023003%" headers="mcps1.2.4.1.1 "><p id="p20553131794610"><a name="p20553131794610"></a><a name="p20553131794610"></a>onFailureStrategy</p>
    </td>
    <td class="cellrowborder" valign="top" width="22.932293229322934%" headers="mcps1.2.4.1.2 "><p id="p1050215573464"><a name="p1050215573464"></a><a name="p1050215573464"></a>String</p>
    </td>
    <td class="cellrowborder" valign="top" width="54.06540654065406%" headers="mcps1.2.4.1.3 "><p id="p65534175468"><a name="p65534175468"></a><a name="p65534175468"></a>Execution的超时重试逻辑</p>
    </td>
    </tr>
    <tr id="row1120982911204"><td class="cellrowborder" valign="top" width="23.002300230023003%" headers="mcps1.2.4.1.1 "><p id="p1055391744619"><a name="p1055391744619"></a><a name="p1055391744619"></a>source</p>
    </td>
    <td class="cellrowborder" valign="top" width="22.932293229322934%" headers="mcps1.2.4.1.2 "><p id="p1351435717461"><a name="p1351435717461"></a><a name="p1351435717461"></a>String</p>
    </td>
    <td class="cellrowborder" valign="top" width="54.06540654065406%" headers="mcps1.2.4.1.3 "><p id="p1955341714620"><a name="p1955341714620"></a><a name="p1955341714620"></a>执行动作源，可取值System或User。</p>
    </td>
    </tr>
    <tr id="row203385173454"><td class="cellrowborder" valign="top" width="23.002300230023003%" headers="mcps1.2.4.1.1 "><p id="p755411177462"><a name="p755411177462"></a><a name="p755411177462"></a>subObjectNames</p>
    </td>
    <td class="cellrowborder" valign="top" width="22.932293229322934%" headers="mcps1.2.4.1.2 "><p id="p3523195715462"><a name="p3523195715462"></a><a name="p3523195715462"></a>String</p>
    </td>
    <td class="cellrowborder" valign="top" width="54.06540654065406%" headers="mcps1.2.4.1.3 "><p id="p185541517124614"><a name="p185541517124614"></a><a name="p185541517124614"></a>Execution指定执行的Object名称。如果非空，执行指定的Object的生命周期如果为空，执行所有Object的生命周期。</p>
    </td>
    </tr>
    <tr id="row51461520124510"><td class="cellrowborder" valign="top" width="23.002300230023003%" headers="mcps1.2.4.1.1 "><p id="p20554171710461"><a name="p20554171710461"></a><a name="p20554171710461"></a>timeoutInMinutes</p>
    </td>
    <td class="cellrowborder" valign="top" width="22.932293229322934%" headers="mcps1.2.4.1.2 "><p id="p5554201794613"><a name="p5554201794613"></a><a name="p5554201794613"></a>Integer</p>
    </td>
    <td class="cellrowborder" valign="top" width="54.06540654065406%" headers="mcps1.2.4.1.3 "><p id="p15542172461"><a name="p15542172461"></a><a name="p15542172461"></a>Execution的超时时间</p>
    </td>
    </tr>
    </tbody>
    </table>

    **表 5**  Execution Spec Metadata结构

    <a name="table1579935583115"></a>
    <table><thead align="left"><tr id="row0810155510314"><th class="cellrowborder" valign="top" width="23.122312231223123%" id="mcps1.2.4.1.1"><p id="p381345518318"><a name="p381345518318"></a><a name="p381345518318"></a>参数</p>
    </th>
    <th class="cellrowborder" valign="top" width="23.152315231523154%" id="mcps1.2.4.1.2"><p id="p16815655123116"><a name="p16815655123116"></a><a name="p16815655123116"></a>参数类型</p>
    </th>
    <th class="cellrowborder" valign="top" width="53.725372537253726%" id="mcps1.2.4.1.3"><p id="p15818125583113"><a name="p15818125583113"></a><a name="p15818125583113"></a>描述</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="row582185523110"><td class="cellrowborder" valign="top" width="23.122312231223123%" headers="mcps1.2.4.1.1 "><p id="p95961514173316"><a name="p95961514173316"></a><a name="p95961514173316"></a>labels</p>
    </td>
    <td class="cellrowborder" valign="top" width="23.152315231523154%" headers="mcps1.2.4.1.2 "><p id="p10599614183310"><a name="p10599614183310"></a><a name="p10599614183310"></a>Object</p>
    </td>
    <td class="cellrowborder" valign="top" width="53.725372537253726%" headers="mcps1.2.4.1.3 "><p id="p1160371410331"><a name="p1160371410331"></a><a name="p1160371410331"></a>Execution的标签，标签与创建时的stack.spec.selector.matchlabels一致。</p>
    <p id="p141332028103016"><a name="p141332028103016"></a><a name="p141332028103016"></a>每个key-value表示有个名为key值为value的标签。</p>
    </td>
    </tr>
    <tr id="row483035513118"><td class="cellrowborder" valign="top" width="23.122312231223123%" headers="mcps1.2.4.1.1 "><p id="p11706124893315"><a name="p11706124893315"></a><a name="p11706124893315"></a>namespace</p>
    </td>
    <td class="cellrowborder" valign="top" width="23.152315231523154%" headers="mcps1.2.4.1.2 "><p id="p127093486337"><a name="p127093486337"></a><a name="p127093486337"></a>String</p>
    </td>
    <td class="cellrowborder" valign="top" width="53.725372537253726%" headers="mcps1.2.4.1.3 "><p id="p17712104823314"><a name="p17712104823314"></a><a name="p17712104823314"></a>与stack的namespace字段一致</p>
    </td>
    </tr>
    <tr id="row1984025515314"><td class="cellrowborder" valign="top" width="23.122312231223123%" headers="mcps1.2.4.1.1 "><p id="p714913473317"><a name="p714913473317"></a><a name="p714913473317"></a>其余字段由k8s提供</p>
    </td>
    <td class="cellrowborder" valign="top" width="23.152315231523154%" headers="mcps1.2.4.1.2 "><p id="p1514934113316"><a name="p1514934113316"></a><a name="p1514934113316"></a>-</p>
    </td>
    <td class="cellrowborder" valign="top" width="53.725372537253726%" headers="mcps1.2.4.1.3 "><p id="p141482412332"><a name="p141482412332"></a><a name="p141482412332"></a>-</p>
    </td>
    </tr>
    </tbody>
    </table>

    **表 6**  Execution Spec ObjectReference结构

    <a name="table14131138202815"></a>
    <table><thead align="left"><tr id="row542211384285"><th class="cellrowborder" valign="top" width="23.37233723372337%" id="mcps1.2.4.1.1"><p id="p8424133812813"><a name="p8424133812813"></a><a name="p8424133812813"></a>参数</p>
    </th>
    <th class="cellrowborder" valign="top" width="22.802280228022802%" id="mcps1.2.4.1.2"><p id="p1426153822816"><a name="p1426153822816"></a><a name="p1426153822816"></a>参数类型</p>
    </th>
    <th class="cellrowborder" valign="top" width="53.82538253825383%" id="mcps1.2.4.1.3"><p id="p1442917385287"><a name="p1442917385287"></a><a name="p1442917385287"></a>描述</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="row194301338172814"><td class="cellrowborder" valign="top" width="23.37233723372337%" headers="mcps1.2.4.1.1 "><p id="p750115411287"><a name="p750115411287"></a><a name="p750115411287"></a>kind</p>
    </td>
    <td class="cellrowborder" valign="top" width="22.802280228022802%" headers="mcps1.2.4.1.2 "><p id="p20500155422819"><a name="p20500155422819"></a><a name="p20500155422819"></a>Object</p>
    </td>
    <td class="cellrowborder" valign="top" width="53.82538253825383%" headers="mcps1.2.4.1.3 "><p id="p35001354182816"><a name="p35001354182816"></a><a name="p35001354182816"></a>与堆栈的kind一致</p>
    </td>
    </tr>
    <tr id="row344117382284"><td class="cellrowborder" valign="top" width="23.37233723372337%" headers="mcps1.2.4.1.1 "><p id="p250025419283"><a name="p250025419283"></a><a name="p250025419283"></a>namespace</p>
    </td>
    <td class="cellrowborder" valign="top" width="22.802280228022802%" headers="mcps1.2.4.1.2 "><p id="p449985414287"><a name="p449985414287"></a><a name="p449985414287"></a>String</p>
    </td>
    <td class="cellrowborder" valign="top" width="53.82538253825383%" headers="mcps1.2.4.1.3 "><p id="p1149811546289"><a name="p1149811546289"></a><a name="p1149811546289"></a>与堆栈的namespace一致</p>
    </td>
    </tr>
    <tr id="row2450538152818"><td class="cellrowborder" valign="top" width="23.37233723372337%" headers="mcps1.2.4.1.1 "><p id="p24984548283"><a name="p24984548283"></a><a name="p24984548283"></a>uid</p>
    </td>
    <td class="cellrowborder" valign="top" width="22.802280228022802%" headers="mcps1.2.4.1.2 "><p id="p14497854122813"><a name="p14497854122813"></a><a name="p14497854122813"></a>String</p>
    </td>
    <td class="cellrowborder" valign="top" width="53.82538253825383%" headers="mcps1.2.4.1.3 "><p id="p6496254132815"><a name="p6496254132815"></a><a name="p6496254132815"></a>与堆栈的uid一致</p>
    </td>
    </tr>
    </tbody>
    </table>

    **表 7**  Stack Status ExecutionStatus结构

    <a name="table272789203017"></a>
    <table><thead align="left"><tr id="row1373759103016"><th class="cellrowborder" valign="top" width="30.11%" id="mcps1.2.4.1.1"><p id="p7740189143010"><a name="p7740189143010"></a><a name="p7740189143010"></a>参数</p>
    </th>
    <th class="cellrowborder" valign="top" width="28.48%" id="mcps1.2.4.1.2"><p id="p13743139143019"><a name="p13743139143019"></a><a name="p13743139143019"></a>参数类型</p>
    </th>
    <th class="cellrowborder" valign="top" width="41.410000000000004%" id="mcps1.2.4.1.3"><p id="p67461298303"><a name="p67461298303"></a><a name="p67461298303"></a>描述</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="row16750169103010"><td class="cellrowborder" valign="top" width="30.11%" headers="mcps1.2.4.1.1 "><p id="p202111033310"><a name="p202111033310"></a><a name="p202111033310"></a>actionName</p>
    </td>
    <td class="cellrowborder" valign="top" width="28.48%" headers="mcps1.2.4.1.2 "><p id="p375518913012"><a name="p375518913012"></a><a name="p375518913012"></a>String</p>
    </td>
    <td class="cellrowborder" valign="top" width="41.410000000000004%" headers="mcps1.2.4.1.3 "><p id="p97592911304"><a name="p97592911304"></a><a name="p97592911304"></a>操作的名称，create （创建）、delete（删除）、 upgrade（变更）、 rollback（回滚）、reconfig（重配置）、retry（重试）。</p>
    </td>
    </tr>
    <tr id="row1836244619314"><td class="cellrowborder" valign="top" width="30.11%" headers="mcps1.2.4.1.1 "><p id="p766751314350"><a name="p766751314350"></a><a name="p766751314350"></a>progress</p>
    </td>
    <td class="cellrowborder" valign="top" width="28.48%" headers="mcps1.2.4.1.2 "><p id="p0362046143110"><a name="p0362046143110"></a><a name="p0362046143110"></a>Integer</p>
    </td>
    <td class="cellrowborder" valign="top" width="41.410000000000004%" headers="mcps1.2.4.1.3 "><p id="p2362246183119"><a name="p2362246183119"></a><a name="p2362246183119"></a>执行进度</p>
    </td>
    </tr>
    <tr id="row1070920451384"><td class="cellrowborder" valign="top" width="30.11%" headers="mcps1.2.4.1.1 "><p id="p0923132163911"><a name="p0923132163911"></a><a name="p0923132163911"></a>objectStatus</p>
    </td>
    <td class="cellrowborder" valign="top" width="28.48%" headers="mcps1.2.4.1.2 "><p id="p170916459389"><a name="p170916459389"></a><a name="p170916459389"></a>Object</p>
    </td>
    <td class="cellrowborder" valign="top" width="41.410000000000004%" headers="mcps1.2.4.1.3 "><p id="p127091445173819"><a name="p127091445173819"></a><a name="p127091445173819"></a>表示操作的总体执行进度，详情请参见<a href="#table136551348103520">表8</a>。</p>
    </td>
    </tr>
    <tr id="row1816413053912"><td class="cellrowborder" valign="top" width="30.11%" headers="mcps1.2.4.1.1 "><p id="p19164103093912"><a name="p19164103093912"></a><a name="p19164103093912"></a>subObjectStatuses</p>
    </td>
    <td class="cellrowborder" valign="top" width="28.48%" headers="mcps1.2.4.1.2 "><p id="p13164133073911"><a name="p13164133073911"></a><a name="p13164133073911"></a>Object</p>
    </td>
    <td class="cellrowborder" valign="top" width="41.410000000000004%" headers="mcps1.2.4.1.3 "><p id="p131641302394"><a name="p131641302394"></a><a name="p131641302394"></a>表示分步操作的执行进度。每个key-value结构表示key对应的节点的执行进度，value详情请参见<a href="#table114652301361">表9</a>。</p>
    </td>
    </tr>
    </tbody>
    </table>

    **表 8**  Stack Status ExecutionStatus ActionStatus结构

    <a name="table136551348103520"></a>
    <table><thead align="left"><tr id="row366654813357"><th class="cellrowborder" valign="top" width="30.459999999999997%" id="mcps1.2.4.1.1"><p id="p146691648113519"><a name="p146691648113519"></a><a name="p146691648113519"></a>参数</p>
    </th>
    <th class="cellrowborder" valign="top" width="27.950000000000003%" id="mcps1.2.4.1.2"><p id="p166721048123510"><a name="p166721048123510"></a><a name="p166721048123510"></a>参数类型</p>
    </th>
    <th class="cellrowborder" valign="top" width="41.589999999999996%" id="mcps1.2.4.1.3"><p id="p667524873510"><a name="p667524873510"></a><a name="p667524873510"></a>描述</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="row1167854833514"><td class="cellrowborder" valign="top" width="30.459999999999997%" headers="mcps1.2.4.1.1 "><p id="p374241633618"><a name="p374241633618"></a><a name="p374241633618"></a>phase</p>
    </td>
    <td class="cellrowborder" valign="top" width="27.950000000000003%" headers="mcps1.2.4.1.2 "><p id="p10686194815358"><a name="p10686194815358"></a><a name="p10686194815358"></a>String</p>
    </td>
    <td class="cellrowborder" valign="top" width="41.589999999999996%" headers="mcps1.2.4.1.3 "><p id="p19689124883513"><a name="p19689124883513"></a><a name="p19689124883513"></a>该操作步骤的执行状态</p>
    </td>
    </tr>
    <tr id="row1869014833518"><td class="cellrowborder" valign="top" width="30.459999999999997%" headers="mcps1.2.4.1.1 "><p id="p196931248153513"><a name="p196931248153513"></a><a name="p196931248153513"></a>message</p>
    </td>
    <td class="cellrowborder" valign="top" width="27.950000000000003%" headers="mcps1.2.4.1.2 "><p id="p8696154853511"><a name="p8696154853511"></a><a name="p8696154853511"></a>String</p>
    </td>
    <td class="cellrowborder" valign="top" width="41.589999999999996%" headers="mcps1.2.4.1.3 "><p id="p870010486354"><a name="p870010486354"></a><a name="p870010486354"></a>详细的出错信息</p>
    </td>
    </tr>
    <tr id="row1682111943717"><td class="cellrowborder" valign="top" width="30.459999999999997%" headers="mcps1.2.4.1.1 "><p id="p182141973714"><a name="p182141973714"></a><a name="p182141973714"></a>reason</p>
    </td>
    <td class="cellrowborder" valign="top" width="27.950000000000003%" headers="mcps1.2.4.1.2 "><p id="p1483141916378"><a name="p1483141916378"></a><a name="p1483141916378"></a>String</p>
    </td>
    <td class="cellrowborder" valign="top" width="41.589999999999996%" headers="mcps1.2.4.1.3 "><p id="p158331920378"><a name="p158331920378"></a><a name="p158331920378"></a>CamelCase格式的错误描述信息</p>
    </td>
    </tr>
    <tr id="row14229749193717"><td class="cellrowborder" valign="top" width="30.459999999999997%" headers="mcps1.2.4.1.1 "><p id="p1122984913719"><a name="p1122984913719"></a><a name="p1122984913719"></a>updateAt</p>
    </td>
    <td class="cellrowborder" valign="top" width="27.950000000000003%" headers="mcps1.2.4.1.2 "><p id="p0229849153710"><a name="p0229849153710"></a><a name="p0229849153710"></a>String</p>
    </td>
    <td class="cellrowborder" valign="top" width="41.589999999999996%" headers="mcps1.2.4.1.3 "><p id="p922984918372"><a name="p922984918372"></a><a name="p922984918372"></a>以RFC3339格式表示的信息更新的UTC时间戳</p>
    </td>
    </tr>
    </tbody>
    </table>

    **表 9**  Stack Status ExecutionStatus SubActionStatus结构

    <a name="table114652301361"></a>
    <table><thead align="left"><tr id="row184931130113614"><th class="cellrowborder" valign="top" width="30.37%" id="mcps1.2.4.1.1"><p id="p164973306360"><a name="p164973306360"></a><a name="p164973306360"></a>参数</p>
    </th>
    <th class="cellrowborder" valign="top" width="28.02%" id="mcps1.2.4.1.2"><p id="p1504330163617"><a name="p1504330163617"></a><a name="p1504330163617"></a>参数类型</p>
    </th>
    <th class="cellrowborder" valign="top" width="41.61%" id="mcps1.2.4.1.3"><p id="p8510123012366"><a name="p8510123012366"></a><a name="p8510123012366"></a>描述</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="row851653083619"><td class="cellrowborder" valign="top" width="30.37%" headers="mcps1.2.4.1.1 "><p id="p3521030193612"><a name="p3521030193612"></a><a name="p3521030193612"></a>phase</p>
    </td>
    <td class="cellrowborder" valign="top" width="28.02%" headers="mcps1.2.4.1.2 "><p id="p12527133018366"><a name="p12527133018366"></a><a name="p12527133018366"></a>String</p>
    </td>
    <td class="cellrowborder" valign="top" width="41.61%" headers="mcps1.2.4.1.3 "><p id="p253643016363"><a name="p253643016363"></a><a name="p253643016363"></a>该操作步骤的执行状态</p>
    </td>
    </tr>
    <tr id="row65391730163619"><td class="cellrowborder" valign="top" width="30.37%" headers="mcps1.2.4.1.1 "><p id="p18545203013361"><a name="p18545203013361"></a><a name="p18545203013361"></a>message</p>
    </td>
    <td class="cellrowborder" valign="top" width="28.02%" headers="mcps1.2.4.1.2 "><p id="p3550193013363"><a name="p3550193013363"></a><a name="p3550193013363"></a>String</p>
    </td>
    <td class="cellrowborder" valign="top" width="41.61%" headers="mcps1.2.4.1.3 "><p id="p75561930193613"><a name="p75561930193613"></a><a name="p75561930193613"></a>详细的出错信息</p>
    </td>
    </tr>
    <tr id="row1555912303364"><td class="cellrowborder" valign="top" width="30.37%" headers="mcps1.2.4.1.1 "><p id="p956318308369"><a name="p956318308369"></a><a name="p956318308369"></a>reason</p>
    </td>
    <td class="cellrowborder" valign="top" width="28.02%" headers="mcps1.2.4.1.2 "><p id="p145699308368"><a name="p145699308368"></a><a name="p145699308368"></a>String</p>
    </td>
    <td class="cellrowborder" valign="top" width="41.61%" headers="mcps1.2.4.1.3 "><p id="p13574163015369"><a name="p13574163015369"></a><a name="p13574163015369"></a>CamelCase格式的错误描述信息</p>
    </td>
    </tr>
    <tr id="row257623043614"><td class="cellrowborder" valign="top" width="30.37%" headers="mcps1.2.4.1.1 "><p id="p2582193013363"><a name="p2582193013363"></a><a name="p2582193013363"></a>updateAt</p>
    </td>
    <td class="cellrowborder" valign="top" width="28.02%" headers="mcps1.2.4.1.2 "><p id="p5587830163616"><a name="p5587830163616"></a><a name="p5587830163616"></a>String</p>
    </td>
    <td class="cellrowborder" valign="top" width="41.61%" headers="mcps1.2.4.1.3 "><p id="p19593193023614"><a name="p19593193023614"></a><a name="p19593193023614"></a>以RFC3339格式表示的信息更新的UTC时间戳</p>
    </td>
    </tr>
    <tr id="row183493710"><td class="cellrowborder" valign="top" width="30.37%" headers="mcps1.2.4.1.1 "><p id="p17834163713"><a name="p17834163713"></a><a name="p17834163713"></a>subActionName</p>
    </td>
    <td class="cellrowborder" valign="top" width="28.02%" headers="mcps1.2.4.1.2 "><p id="p17820443715"><a name="p17820443715"></a><a name="p17820443715"></a>String</p>
    </td>
    <td class="cellrowborder" valign="top" width="41.61%" headers="mcps1.2.4.1.3 "><p id="p98184193717"><a name="p98184193717"></a><a name="p98184193717"></a>元素子操作的名字</p>
    </td>
    </tr>
    <tr id="row145956306366"><td class="cellrowborder" valign="top" width="30.37%" headers="mcps1.2.4.1.1 "><p id="p19600113019367"><a name="p19600113019367"></a><a name="p19600113019367"></a>createAt</p>
    </td>
    <td class="cellrowborder" valign="top" width="28.02%" headers="mcps1.2.4.1.2 "><p id="p66041030123612"><a name="p66041030123612"></a><a name="p66041030123612"></a>String</p>
    </td>
    <td class="cellrowborder" valign="top" width="41.61%" headers="mcps1.2.4.1.3 "><p id="p56091830123617"><a name="p56091830123617"></a><a name="p56091830123617"></a>以RFC3339格式表示的信息创建的UTC时间戳</p>
    </td>
    </tr>
    </tbody>
    </table>

-   响应示例

    ```
    {
        "kind": "Execution",
        "apiVersion": "paas/v1alpha1",
        "metadata": {
            "name": "trim-4074942376",
            "namespace": "aos",
            "selfLink": "/apis/paas/v1alpha1/namespaces/aos/executions/trim-4074942376",
            "uid": "ccb8fec5-cc70-11e6-8448-0242ac001004",
            "resourceVersion": "48180",
            "creationTimestamp": "2016-12-27T20:12:32Z",
            "labels": {
                "execution-hash": "4074942376",
                "stackname": "trim"
            },
            "annotations": {
                "paas-iam.alpha.kubernetes.io/domain-id": "ea816a0cc3204ee09efb6d585bee4c58",
                "stack.kubernetes.io/revision": "1"
            },
            "enable": true
        },
        "spec": {
            "metadata": {
                "namespace": "aos",
                "creationTimestamp": null,
                "labels": {
                    "execution-hash": "4074942376",
                    "stackname": "trim"
                },
                "enable": true
            },
            "objectReference": {
                "namespace": "aos",
                "name": "trim",
                "uid": "cb2cdea0-cc70-11e6-8448-0242ac001004"
            },
            "actionName": "create",
            "timeoutInMinutes": 60,
            "onFailureStrategy": "DoNothing",
            "disableStrategy": "Cancel",
            "source": "User",
            "objectData": "*****",
            "location": "172.16.0.0"
        },
        "status": {
            "actionName": "create",
            "progress": 100,
            "objectStatus": {
                "phase": "Succeeded",
                "updateAt": "2016-12-27T20:12:47Z"
            },
            "subObjectStatuses": {
                "hello-app": {
                    "phase": "Succeeded",
                    "updateAt": "2016-12-27T20:12:33Z"
                },
                "hello-component": {
                    "phase": "Succeeded",
                    "updateAt": "2016-12-27T20:12:47Z"
                },
                "hello-package": {
                    "phase": "Succeeded",
                    "updateAt": "2016-12-27T20:12:34Z"
                }
            }
        }
    }
    ```


## 状态码<a name="section1269313152235"></a>

-   正常

    **表 10**  状态码

    <a name="table1069411582320"></a>
    <table><thead align="left"><tr id="row46941015142318"><th class="cellrowborder" valign="top" width="21.07%" id="mcps1.2.3.1.1"><p id="p5694915122317"><a name="p5694915122317"></a><a name="p5694915122317"></a>状态码</p>
    </th>
    <th class="cellrowborder" valign="top" width="78.93%" id="mcps1.2.3.1.2"><p id="p18694715192314"><a name="p18694715192314"></a><a name="p18694715192314"></a>描述</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="row8694191542313"><td class="cellrowborder" valign="top" width="21.07%" headers="mcps1.2.3.1.1 "><p id="p19694715152313"><a name="p19694715152313"></a><a name="p19694715152313"></a>200</p>
    </td>
    <td class="cellrowborder" valign="top" width="78.93%" headers="mcps1.2.3.1.2 "><p id="p169461516232"><a name="p169461516232"></a><a name="p169461516232"></a>查询执行记录成功</p>
    </td>
    </tr>
    </tbody>
    </table>

-   异常

    **表 11**  状态码

    <a name="table8694121515236"></a>
    <table><thead align="left"><tr id="row11695171513230"><th class="cellrowborder" valign="top" width="21.310000000000002%" id="mcps1.2.3.1.1"><p id="p769561511232"><a name="p769561511232"></a><a name="p769561511232"></a>状态码</p>
    </th>
    <th class="cellrowborder" valign="top" width="78.69%" id="mcps1.2.3.1.2"><p id="p969581511235"><a name="p969581511235"></a><a name="p969581511235"></a>描述</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="row17695171519239"><td class="cellrowborder" valign="top" width="21.310000000000002%" headers="mcps1.2.3.1.1 "><p id="p166952152232"><a name="p166952152232"></a><a name="p166952152232"></a>400</p>
    </td>
    <td class="cellrowborder" valign="top" width="78.69%" headers="mcps1.2.3.1.2 "><p id="p196951915152316"><a name="p196951915152316"></a><a name="p196951915152316"></a>请求参数有误</p>
    </td>
    </tr>
    <tr id="row1826302793115"><td class="cellrowborder" valign="top" width="21.310000000000002%" headers="mcps1.2.3.1.1 "><p id="p826372718319"><a name="p826372718319"></a><a name="p826372718319"></a>404</p>
    </td>
    <td class="cellrowborder" valign="top" width="78.69%" headers="mcps1.2.3.1.2 "><p id="p18263102773111"><a name="p18263102773111"></a><a name="p18263102773111"></a>堆栈不存在</p>
    </td>
    </tr>
    <tr id="row10695315112316"><td class="cellrowborder" valign="top" width="21.310000000000002%" headers="mcps1.2.3.1.1 "><p id="p1869517158234"><a name="p1869517158234"></a><a name="p1869517158234"></a>500</p>
    </td>
    <td class="cellrowborder" valign="top" width="78.69%" headers="mcps1.2.3.1.2 "><p id="p1669531510239"><a name="p1669531510239"></a><a name="p1669531510239"></a>服务器遇到了一个未曾预料的状况，导致无法完成对请求的处理。</p>
    </td>
    </tr>
    </tbody>
    </table>


